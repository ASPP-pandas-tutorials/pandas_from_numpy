
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Pandas DataFrames: Attributes and Methods &#8212; Pandas from Numpy</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '0_2_pandas_dataframes_attributes_methods';</script>
    <link rel="canonical" href="https://ASPP_pandas_tutorials.github.io/pandas_from_numpy/0_2_pandas_dataframes_attributes_methods.html" />
    <link rel="icon" href="_static/pandas_numpy.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Let There Be Data : Creating Data Frames" href="0_3_constructing_dataframes.html" />
    <link rel="prev" title="Indexing by label, indexing by position" href="0_1_to_loc_or_iloc.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/pandas_numpy.jpg" class="logo__image only-light" alt="Pandas from Numpy - Home"/>
    <script>document.write(`<img src="_static/pandas_numpy.jpg" class="logo__image only-dark" alt="Pandas from Numpy - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Pandas from Numpy</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="0_0_pandas_intro.html">Pandas from Numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_1_to_loc_or_iloc.html">Indexing by label, indexing by position</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Pandas DataFrames: Attributes and Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_3_constructing_dataframes.html">Let There Be Data : Creating Data Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_4_dealing_with_missing_data_in_pandas.html">Dealing with NaNs</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_5_filtering_data_with_pandas.html">Filtering Data Frames with Boolean Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_6_more_pandas_methods_strings.html">More Pandas methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_7_pandas_datetimes.html">It’s Pandas time</a></li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="interact/lab/index.html?path=0_2_pandas_dataframes_attributes_methods.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch via JupyterLite"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="JupyterLite logo" src="_static/images/logo_jupyterlite.svg">
  </span>
<span class="btn__text-container">JupyterLite</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ASPP_pandas_tutorials/pandas_from_numpy" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ASPP_pandas_tutorials/pandas_from_numpy/edit/main/0_2_pandas_dataframes_attributes_methods.Rmd" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ASPP_pandas_tutorials/pandas_from_numpy/issues/new?title=Issue%20on%20page%20%2F0_2_pandas_dataframes_attributes_methods.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/0_2_pandas_dataframes_attributes_methods.Rmd" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.Rmd</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Pandas DataFrames: Attributes and Methods</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-pandas-from-numpy">More Pandas from Numpy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#statistical-attributes-of-numpy-arrays">Statistical Attributes of Numpy arrays</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-series-attributes-and-methods">Pandas Series attributes and methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-data-frame-attributes">Pandas Data Frame attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-data-frame-methods">Pandas Data Frame methods</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#methods-for-getting-subsets-of-data-from-a-data-frame">Methods for getting subsets of data from a Data Frame</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-methods">Plotting Methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-note-on-numerical-operations">A note on numerical operations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="pandas-dataframes-attributes-and-methods">
<h1>Pandas DataFrames: Attributes and Methods<a class="headerlink" href="#pandas-dataframes-attributes-and-methods" title="Link to this heading">#</a></h1>
<!---
📝 NOTE-  Covered here:

Columns in a dataframe  can be of different dtypes
* Operations are on columns by default (describe, sum, min, max)
* attributes of df (shape, dtypes columns, index)
* methods of df (unique, describe, counts, value_counts, min, max, std, sort_values, sort_index)

Structure of page:

* show all relevant methods/attributes of numpy arrays

* reinforce that "Series = array + index + name". Then show relevant methods/attributes of Series.

* reinforce that "DataFrame = dictionary-like collection of Series". Then show all relevant methods/attributes of DataFrames.
-->
<p>On the <a class="reference internal" href="0_0_pandas_intro.html"><span class="std std-doc">previous</span></a> <a class="reference internal" href="0_1_to_loc_or_iloc.html"><span class="std std-doc">pages</span></a> we have seen how Pandas Series are constructed by combining Numpy arrays (the <code class="docutils literal notranslate"><span class="pre">.values</span></code> attribute of a Series) with other attributes (a <code class="docutils literal notranslate"><span class="pre">.name</span></code> string and and array-like <code class="docutils literal notranslate"><span class="pre">.index</span></code>). We have then examined how Pandas Data Frames are built from a collection of Series, in a dictionary-like structure.</p>
<p>This page will dive deeper into Data Frames. Once we have constructed our Data Frame, Pandas provides many useful methods for cleaning, aggregating, plotting and (subsequently) analysing our data.</p>
<p>We will begin by showing that Pandas Series and Data Frames have many methods that parallel those of Numpy arrays, though the methods are adapted to work in the context of Pandas objects.</p>
<section id="more-pandas-from-numpy">
<h2>More Pandas from Numpy<a class="headerlink" href="#more-pandas-from-numpy" title="Link to this heading">#</a></h2>
<p>Let’s examine some of the methods we can use on numpy arrays.</p>
<p>Remember, a <em>method</em> is a function attached to an object.</p>
<p>In this case, our object is a Numpy array (later it will be a Pandas Series or Data Frame).</p>
<p>We’ll build a Numpy array using the <code class="docutils literal notranslate"><span class="pre">np.array([])</span></code> constructor, containing our
familiar three-letter country codes. As before, you can see the <a class="reference internal" href="data/data_notes.html"><span class="doc std std-doc">datasets and
licenses page</span></a> for more detail.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import libraries</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># Our own routine to giving hints to the exercises.</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hint</span><span class="w"> </span><span class="kn">import</span> <span class="n">hint_1</span><span class="p">,</span> <span class="n">hint_2</span>
</pre></div>
</div>
</div>
</div>
<p>We build the constituent arrays:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Standard three-letter code for each country</span>
<span class="n">country_codes_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;AUS&#39;</span><span class="p">,</span> <span class="s1">&#39;BRA&#39;</span><span class="p">,</span> <span class="s1">&#39;CAN&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;CHN&#39;</span><span class="p">,</span> <span class="s1">&#39;DEU&#39;</span><span class="p">,</span> <span class="s1">&#39;ESP&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;FRA&#39;</span><span class="p">,</span> <span class="s1">&#39;GBR&#39;</span><span class="p">,</span> <span class="s1">&#39;IND&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;ITA&#39;</span><span class="p">,</span> <span class="s1">&#39;JPN&#39;</span><span class="p">,</span> <span class="s1">&#39;KOR&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;MEX&#39;</span><span class="p">,</span> <span class="s1">&#39;RUS&#39;</span><span class="p">,</span> <span class="s1">&#39;USA&#39;</span><span class="p">])</span>
<span class="n">country_codes_array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;AUS&#39;, &#39;BRA&#39;, &#39;CAN&#39;, &#39;CHN&#39;, &#39;DEU&#39;, &#39;ESP&#39;, &#39;FRA&#39;, &#39;GBR&#39;, &#39;IND&#39;,
       &#39;ITA&#39;, &#39;JPN&#39;, &#39;KOR&#39;, &#39;MEX&#39;, &#39;RUS&#39;, &#39;USA&#39;], dtype=&#39;&lt;U3&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Human Development Index Scores for each country</span>
<span class="n">hdis_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.896</span><span class="p">,</span> <span class="mf">0.668</span><span class="p">,</span> <span class="mf">0.89</span><span class="p">,</span>
                       <span class="mf">0.586</span><span class="p">,</span> <span class="mf">0.89</span><span class="p">,</span>  <span class="mf">0.828</span><span class="p">,</span>
                       <span class="mf">0.844</span><span class="p">,</span> <span class="mf">0.863</span><span class="p">,</span> <span class="mf">0.49</span><span class="p">,</span>
                       <span class="mf">0.842</span><span class="p">,</span> <span class="mf">0.883</span><span class="p">,</span> <span class="mf">0.824</span><span class="p">,</span>
                       <span class="mf">0.709</span><span class="p">,</span> <span class="mf">0.733</span><span class="p">,</span> <span class="mf">0.894</span><span class="p">])</span>
<span class="n">hdis_array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.896, 0.668, 0.89 , 0.586, 0.89 , 0.828, 0.844, 0.863, 0.49 ,
       0.842, 0.883, 0.824, 0.709, 0.733, 0.894])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Full names of each country.</span>
<span class="n">country_names_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;Australia&#39;</span><span class="p">,</span> <span class="s1">&#39;Brazil&#39;</span><span class="p">,</span> <span class="s1">&#39;Canada&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;China&#39;</span><span class="p">,</span> <span class="s1">&#39;Germany&#39;</span><span class="p">,</span> <span class="s1">&#39;Spain&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;France&#39;</span><span class="p">,</span> <span class="s1">&#39;United Kingdom&#39;</span><span class="p">,</span> <span class="s1">&#39;India&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;Italy&#39;</span><span class="p">,</span> <span class="s1">&#39;Japan&#39;</span><span class="p">,</span> <span class="s1">&#39;South Korea&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;Mexico&#39;</span><span class="p">,</span> <span class="s1">&#39;Russia&#39;</span><span class="p">,</span> <span class="s1">&#39;United States&#39;</span><span class="p">])</span>
<span class="n">country_names_array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;Australia&#39;, &#39;Brazil&#39;, &#39;Canada&#39;, &#39;China&#39;, &#39;Germany&#39;, &#39;Spain&#39;,
       &#39;France&#39;, &#39;United Kingdom&#39;, &#39;India&#39;, &#39;Italy&#39;, &#39;Japan&#39;,
       &#39;South Korea&#39;, &#39;Mexico&#39;, &#39;Russia&#39;, &#39;United States&#39;], dtype=&#39;&lt;U14&#39;)
</pre></div>
</div>
</div>
</div>
<p>When dealing with any object in python, it can be useful to use the in-built python <code class="docutils literal notranslate"><span class="pre">dir()</span></code> function. This returns the <em>names</em> of every attribute and method that we can access/call from the object:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show all available attributes/methods</span>
<span class="nb">dir</span><span class="p">(</span><span class="n">hdis_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;T&#39;,
 &#39;__abs__&#39;,
 &#39;__add__&#39;,
 &#39;__and__&#39;,
 &#39;__array__&#39;,
 &#39;__array_finalize__&#39;,
 &#39;__array_function__&#39;,
 &#39;__array_interface__&#39;,
 &#39;__array_namespace__&#39;,
 &#39;__array_priority__&#39;,
 &#39;__array_struct__&#39;,
 &#39;__array_ufunc__&#39;,
 &#39;__array_wrap__&#39;,
 &#39;__bool__&#39;,
 &#39;__buffer__&#39;,
 &#39;__class__&#39;,
 &#39;__class_getitem__&#39;,
 &#39;__complex__&#39;,
 &#39;__contains__&#39;,
 &#39;__copy__&#39;,
 &#39;__deepcopy__&#39;,
 &#39;__delattr__&#39;,
 &#39;__delitem__&#39;,
 &#39;__dir__&#39;,
 &#39;__divmod__&#39;,
 &#39;__dlpack__&#39;,
 &#39;__dlpack_device__&#39;,
 &#39;__doc__&#39;,
 &#39;__eq__&#39;,
 &#39;__float__&#39;,
 &#39;__floordiv__&#39;,
 &#39;__format__&#39;,
 &#39;__ge__&#39;,
 &#39;__getattribute__&#39;,
 &#39;__getitem__&#39;,
 &#39;__getstate__&#39;,
 &#39;__gt__&#39;,
 &#39;__hash__&#39;,
 &#39;__iadd__&#39;,
 &#39;__iand__&#39;,
 &#39;__ifloordiv__&#39;,
 &#39;__ilshift__&#39;,
 &#39;__imatmul__&#39;,
 &#39;__imod__&#39;,
 &#39;__imul__&#39;,
 &#39;__index__&#39;,
 &#39;__init__&#39;,
 &#39;__init_subclass__&#39;,
 &#39;__int__&#39;,
 &#39;__invert__&#39;,
 &#39;__ior__&#39;,
 &#39;__ipow__&#39;,
 &#39;__irshift__&#39;,
 &#39;__isub__&#39;,
 &#39;__iter__&#39;,
 &#39;__itruediv__&#39;,
 &#39;__ixor__&#39;,
 &#39;__le__&#39;,
 &#39;__len__&#39;,
 &#39;__lshift__&#39;,
 &#39;__lt__&#39;,
 &#39;__matmul__&#39;,
 &#39;__mod__&#39;,
 &#39;__mul__&#39;,
 &#39;__ne__&#39;,
 &#39;__neg__&#39;,
 &#39;__new__&#39;,
 &#39;__or__&#39;,
 &#39;__pos__&#39;,
 &#39;__pow__&#39;,
 &#39;__radd__&#39;,
 &#39;__rand__&#39;,
 &#39;__rdivmod__&#39;,
 &#39;__reduce__&#39;,
 &#39;__reduce_ex__&#39;,
 &#39;__repr__&#39;,
 &#39;__rfloordiv__&#39;,
 &#39;__rlshift__&#39;,
 &#39;__rmatmul__&#39;,
 &#39;__rmod__&#39;,
 &#39;__rmul__&#39;,
 &#39;__ror__&#39;,
 &#39;__rpow__&#39;,
 &#39;__rrshift__&#39;,
 &#39;__rshift__&#39;,
 &#39;__rsub__&#39;,
 &#39;__rtruediv__&#39;,
 &#39;__rxor__&#39;,
 &#39;__setattr__&#39;,
 &#39;__setitem__&#39;,
 &#39;__setstate__&#39;,
 &#39;__sizeof__&#39;,
 &#39;__str__&#39;,
 &#39;__sub__&#39;,
 &#39;__subclasshook__&#39;,
 &#39;__truediv__&#39;,
 &#39;__xor__&#39;,
 &#39;all&#39;,
 &#39;any&#39;,
 &#39;argmax&#39;,
 &#39;argmin&#39;,
 &#39;argpartition&#39;,
 &#39;argsort&#39;,
 &#39;astype&#39;,
 &#39;base&#39;,
 &#39;byteswap&#39;,
 &#39;choose&#39;,
 &#39;clip&#39;,
 &#39;compress&#39;,
 &#39;conj&#39;,
 &#39;conjugate&#39;,
 &#39;copy&#39;,
 &#39;ctypes&#39;,
 &#39;cumprod&#39;,
 &#39;cumsum&#39;,
 &#39;data&#39;,
 &#39;device&#39;,
 &#39;diagonal&#39;,
 &#39;dot&#39;,
 &#39;dtype&#39;,
 &#39;dump&#39;,
 &#39;dumps&#39;,
 &#39;fill&#39;,
 &#39;flags&#39;,
 &#39;flat&#39;,
 &#39;flatten&#39;,
 &#39;getfield&#39;,
 &#39;imag&#39;,
 &#39;item&#39;,
 &#39;itemset&#39;,
 &#39;itemsize&#39;,
 &#39;mT&#39;,
 &#39;max&#39;,
 &#39;mean&#39;,
 &#39;min&#39;,
 &#39;nbytes&#39;,
 &#39;ndim&#39;,
 &#39;newbyteorder&#39;,
 &#39;nonzero&#39;,
 &#39;partition&#39;,
 &#39;prod&#39;,
 &#39;ptp&#39;,
 &#39;put&#39;,
 &#39;ravel&#39;,
 &#39;real&#39;,
 &#39;repeat&#39;,
 &#39;reshape&#39;,
 &#39;resize&#39;,
 &#39;round&#39;,
 &#39;searchsorted&#39;,
 &#39;setfield&#39;,
 &#39;setflags&#39;,
 &#39;shape&#39;,
 &#39;size&#39;,
 &#39;sort&#39;,
 &#39;squeeze&#39;,
 &#39;std&#39;,
 &#39;strides&#39;,
 &#39;sum&#39;,
 &#39;swapaxes&#39;,
 &#39;take&#39;,
 &#39;to_device&#39;,
 &#39;tobytes&#39;,
 &#39;tofile&#39;,
 &#39;tolist&#39;,
 &#39;trace&#39;,
 &#39;transpose&#39;,
 &#39;var&#39;,
 &#39;view&#39;]
</pre></div>
</div>
</div>
</div>
<p>For now we will ignore the elements in the printout that contain <code class="docutils literal notranslate"><span class="pre">__</span></code>.  These
double underscores are called “dunders” (short for double underscores);
attributes and methods starting and ending with <code class="docutils literal notranslate"><span class="pre">__</span></code> are often called <em>dunder
attributes</em> and <em>dunder methods</em>.  Python uses the dunder naming scheme as
a convention to indicate that these methods and attributes are part of the
internal machinery of an object.</p>
<p>Another Python naming convention uses an underscore <code class="docutils literal notranslate"><span class="pre">_</span></code> at the start of
a method or attribute name to indicate that the method or attribute is
<em>private</em> — that is, the attribute / method is for the object to use, but for
us — the user of the object — to avoid.</p>
<p>Ignoring the dunder attributes and methods, and those beginning with underscores, we can see a large number of
attributes and methods that we can access from this or any other Numpy array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Attributes and methods not starting with `_` (or `__`):</span>
<span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">hdis_array</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;T&#39;,
 &#39;all&#39;,
 &#39;any&#39;,
 &#39;argmax&#39;,
 &#39;argmin&#39;,
 &#39;argpartition&#39;,
 &#39;argsort&#39;,
 &#39;astype&#39;,
 &#39;base&#39;,
 &#39;byteswap&#39;,
 &#39;choose&#39;,
 &#39;clip&#39;,
 &#39;compress&#39;,
 &#39;conj&#39;,
 &#39;conjugate&#39;,
 &#39;copy&#39;,
 &#39;ctypes&#39;,
 &#39;cumprod&#39;,
 &#39;cumsum&#39;,
 &#39;data&#39;,
 &#39;device&#39;,
 &#39;diagonal&#39;,
 &#39;dot&#39;,
 &#39;dtype&#39;,
 &#39;dump&#39;,
 &#39;dumps&#39;,
 &#39;fill&#39;,
 &#39;flags&#39;,
 &#39;flat&#39;,
 &#39;flatten&#39;,
 &#39;getfield&#39;,
 &#39;imag&#39;,
 &#39;item&#39;,
 &#39;itemset&#39;,
 &#39;itemsize&#39;,
 &#39;mT&#39;,
 &#39;max&#39;,
 &#39;mean&#39;,
 &#39;min&#39;,
 &#39;nbytes&#39;,
 &#39;ndim&#39;,
 &#39;newbyteorder&#39;,
 &#39;nonzero&#39;,
 &#39;partition&#39;,
 &#39;prod&#39;,
 &#39;ptp&#39;,
 &#39;put&#39;,
 &#39;ravel&#39;,
 &#39;real&#39;,
 &#39;repeat&#39;,
 &#39;reshape&#39;,
 &#39;resize&#39;,
 &#39;round&#39;,
 &#39;searchsorted&#39;,
 &#39;setfield&#39;,
 &#39;setflags&#39;,
 &#39;shape&#39;,
 &#39;size&#39;,
 &#39;sort&#39;,
 &#39;squeeze&#39;,
 &#39;std&#39;,
 &#39;strides&#39;,
 &#39;sum&#39;,
 &#39;swapaxes&#39;,
 &#39;take&#39;,
 &#39;to_device&#39;,
 &#39;tobytes&#39;,
 &#39;tofile&#39;,
 &#39;tolist&#39;,
 &#39;trace&#39;,
 &#39;transpose&#39;,
 &#39;var&#39;,
 &#39;view&#39;]
</pre></div>
</div>
</div>
</div>
<p>One of these <code class="docutils literal notranslate"><span class="pre">array</span></code> attributes is <code class="docutils literal notranslate"><span class="pre">shape</span></code>. We often want to know the <code class="docutils literal notranslate"><span class="pre">shape</span></code> of our data, as it tells us the number of elements along each dimension (axis) of the array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Shape</span>
<span class="n">hdis_array</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(15,)
</pre></div>
</div>
</div>
</div>
<p>We can read this output as “15 elements in a single dimension”. By contrast, let’s look at an array with more than one dimension:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Arrays with more dimensions</span>
<span class="n">zeros_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="n">zeros_array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0., 0.],
       [0., 0.]])
</pre></div>
</div>
</div>
</div>
<p>This 2D array has the following shape:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Arrays with more dimensions</span>
<span class="n">zeros_array</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2, 2)
</pre></div>
</div>
</div>
</div>
<p>We an read this as “2 rows and 2 columns” (which equates to 4 elements), or “two elements along the first dimension, two elements along the second”.</p>
<p>If we want to count the number of individual elements in an array (across all dimensions) we can use the <code class="docutils literal notranslate"><span class="pre">.size</span></code> attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># How many elements in the (15, ) `hdi` array?</span>
<span class="n">hdis_array</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># How many elements in the (2, 2) `zeros_array`?</span>
<span class="n">zeros_array</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">len()</span></code> as applied to Numpy arrays gives us the number of elements of the <em>first dimension</em> (axis) only.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">zeros_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">hdis_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<div class="note docutils">
<p><strong>How does <code class="docutils literal notranslate"><span class="pre">len()</span></code> work?</strong></p>
<p>Calling the standard Python function <code class="docutils literal notranslate"><span class="pre">len()</span></code> on an object <code class="docutils literal notranslate"><span class="pre">obj</span></code> causes Python to call the <code class="docutils literal notranslate"><span class="pre">__len__()</span></code> method of the object.  Therefore, the result of <code class="docutils literal notranslate"><span class="pre">len(obj)</span></code> is the same as that for <code class="docutils literal notranslate"><span class="pre">obj.__len__()</span></code>.</p>
<p>Each object type can define what <code class="docutils literal notranslate"><span class="pre">len(obj)</span></code> means.  For Numpy arrays <code class="docutils literal notranslate"><span class="pre">arr.__len__()</span></code> gives you the equivalent of <code class="docutils literal notranslate"><span class="pre">arr.shape[0]</span></code>.</p>
<p>Later we will see that Data Frames have their own implementation of <code class="docutils literal notranslate"><span class="pre">__len__</span></code>.</p>
</div>
<p>We also often want to know the type of data in our array, as it will affect the analyses we can perform. Are we dealing with numbers or text, for instance?</p>
<p>To access this information, we can view the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> attribute.</p>
<p>Let’s look at the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> for the <code class="docutils literal notranslate"><span class="pre">country_codes</span></code> array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dtype</span>
<span class="n">country_codes_array</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dtype(&#39;&lt;U3&#39;)
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">dtype</span></code> attribute here is just telling us that this is string data. For an explanation of the meaning, see the image below.</p>
<p><img alt="" src="_images/numpy_string_dtypes.png" /></p>
<p>Let’s look at the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> of the <code class="docutils literal notranslate"><span class="pre">hdis_array</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dtype (again)</span>
<span class="n">hdis_array</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dtype(&#39;float64&#39;)
</pre></div>
</div>
</div>
</div>
<p>For this array, the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> tells us that we are dealing with numerical data - specifically float data represented with 64 bits of memory per element.</p>
<section id="statistical-attributes-of-numpy-arrays">
<h3>Statistical Attributes of Numpy arrays<a class="headerlink" href="#statistical-attributes-of-numpy-arrays" title="Link to this heading">#</a></h3>
<p>Numpy also provides a variety of what we can call “statistical attributes” which tell us statistics about the data inside the array.</p>
<div class="note docutils">
<p><strong>What is a statistic</strong></p>
<p>A statistic is some number or sequence of numbers that summarizes a distribution of values.  For example, the mean or average is a measure of the center of the distribution.  Similarly the min and max are the values on the extreme left and extreme right of a distribution.</p>
</div>
<p>As with the methods we looked at in the previous section, Pandas has its own versions of many of these methods, as we will see later in the page.</p>
<p>Let’s again look at the <code class="docutils literal notranslate"><span class="pre">hdis_array</span></code>, which contains the HDI score of each country.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hdis_array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.896, 0.668, 0.89 , 0.586, 0.89 , 0.828, 0.844, 0.863, 0.49 ,
       0.842, 0.883, 0.824, 0.709, 0.733, 0.894])
</pre></div>
</div>
</div>
</div>
<p>There are a variety of useful statistical methods for arrays:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Minimum value in entire array.</span>
<span class="n">hdis_array</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.49)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Maximum value in entire array.</span>
<span class="n">hdis_array</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.896)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mean of all values in array.</span>
<span class="n">hdis_array</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.7893333333333333)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Standard deviation.</span>
<span class="n">hdis_array</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.12125821850726472)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="pandas-series-attributes-and-methods">
<h2>Pandas Series attributes and methods<a class="headerlink" href="#pandas-series-attributes-and-methods" title="Link to this heading">#</a></h2>
<p>Remember our answer to “What is a Series”?:</p>
<blockquote>
<div><p>A <em>Series</em> is the association of:</p>
<ul class="simple">
<li><p>An array of values (<code class="docutils literal notranslate"><span class="pre">.values</span></code>)</p></li>
<li><p>A sequence of labels for each value (<code class="docutils literal notranslate"><span class="pre">.index</span></code>)</p></li>
<li><p>A name (which can be <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p></li>
</ul>
</div></blockquote>
<p>Because Series have arrays as their underlying model for storing values, it is
not surprising that we can use many of the same methods we have just seen for
Numpy arrays on Pandas Series.</p>
<p>Let’s make a series from the HDI scores, called <code class="docutils literal notranslate"><span class="pre">hdi_series</span></code>. We do this using the now familiar <code class="docutils literal notranslate"><span class="pre">pd.Series()</span></code> constructor. Again, we will use the <code class="docutils literal notranslate"><span class="pre">country_codes</span></code> array as an index:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show again from Series, then show for df below</span>
<span class="n">hdi_series</span> <span class="o">=</span>  <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">hdis_array</span><span class="p">,</span>
                        <span class="n">index</span><span class="o">=</span><span class="n">country_codes_array</span><span class="p">)</span>

<span class="n">hdi_series</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AUS    0.896
BRA    0.668
CAN    0.890
CHN    0.586
DEU    0.890
ESP    0.828
FRA    0.844
GBR    0.863
IND    0.490
ITA    0.842
JPN    0.883
KOR    0.824
MEX    0.709
RUS    0.733
USA    0.894
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>As we know, we can view the <code class="docutils literal notranslate"><span class="pre">index</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">values</span></code> attributes of the Series using the familiar accessors:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The `index` component of the Series</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;AUS&#39;, &#39;BRA&#39;, &#39;CAN&#39;, &#39;CHN&#39;, &#39;DEU&#39;, &#39;ESP&#39;, &#39;FRA&#39;, &#39;GBR&#39;, &#39;IND&#39;, &#39;ITA&#39;,
       &#39;JPN&#39;, &#39;KOR&#39;, &#39;MEX&#39;, &#39;RUS&#39;, &#39;USA&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The `name` component (currently is None)</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The numpy array (aka `.values`) component of the Series</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.896, 0.668, 0.89 , 0.586, 0.89 , 0.828, 0.844, 0.863, 0.49 ,
       0.842, 0.883, 0.824, 0.709, 0.733, 0.894])
</pre></div>
</div>
</div>
</div>
<p>Let’s verify that we can use methods that parallel the Numpy methods we saw above. Predictably, these methods operate on the Numpy array component of the series (e.g. the <code class="docutils literal notranslate"><span class="pre">.values</span></code> attribute).</p>
<p>First, let’s look at the <code class="docutils literal notranslate"><span class="pre">shape</span></code>, <code class="docutils literal notranslate"><span class="pre">size</span></code> and <code class="docutils literal notranslate"><span class="pre">dtype</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the `shape` of the `hdi_series`</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(15,)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the `size` of the `hdi_series`</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the `dtype` of the `hdi_series`</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dtype(&#39;float64&#39;)
</pre></div>
</div>
</div>
</div>
<p>Because a Series is a Numpy array (of <code class="docutils literal notranslate"><span class="pre">.values</span></code>) plus some additional attributes/methods, these methods function on the Series in a very similar manner to their equivalents on Numpy arrays.</p>
<p>This also applies to statistical methods. Let’s get the <code class="docutils literal notranslate"><span class="pre">.min()</span></code> and <code class="docutils literal notranslate"><span class="pre">.max()</span></code> values from the <code class="docutils literal notranslate"><span class="pre">hdi_series</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Min</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.49)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Max</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.896)
</pre></div>
</div>
</div>
</div>
<p>These operations return the same values as when we call the method directly on the <code class="docutils literal notranslate"><span class="pre">hdis_array</span></code> (unsurprising, as each object contains the same data)!:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the `max()` value from the `hdis_array`, for comparison</span>
<span class="n">hdis_array</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.896)
</pre></div>
</div>
</div>
</div>
<p>Ok, so these methods are available with names that are familiar from Numpy.
However, Pandas also introduces some additional methods.  You may want to
compare the output of <code class="docutils literal notranslate"><span class="pre">dir()</span></code> for the <code class="docutils literal notranslate"><span class="pre">hdis_array</span></code> vs the <code class="docutils literal notranslate"><span class="pre">hdi_series</span></code> to see
the overlap/differences - as the printout is messy, we will not show it again
here.</p>
<p>One very useful Series method is <code class="docutils literal notranslate"><span class="pre">.describe()</span></code>. This will give us a variety of
statistics about the data in the <code class="docutils literal notranslate"><span class="pre">.values</span></code> array of the Series:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use the `.describe()` on the `hdi_series`</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    15.000000
mean      0.789333
std       0.125514
min       0.490000
25%       0.721000
50%       0.842000
75%       0.886500
max       0.896000
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Neat, an easy summary of the number of observations, the mean, the standard deviation around the mean, and then the range/interquartile range.</p>
<p>Conversely, the <code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code> method will count the occurrence of each <em>unique</em> value in the Series:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use the `value_counts()` method</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.890    2
0.896    1
0.668    1
0.586    1
0.828    1
0.844    1
0.863    1
0.490    1
0.842    1
0.883    1
0.824    1
0.709    1
0.733    1
0.894    1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>These methods can also be applied to arrays containing categorical/string
data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Constructing a Series containing categorical data</span>
<span class="n">country_names_series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">country_names_array</span><span class="p">,</span>
                                 <span class="n">index</span><span class="o">=</span><span class="n">country_codes_array</span><span class="p">)</span>

<span class="n">country_names_series</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AUS         Australia
BRA            Brazil
CAN            Canada
CHN             China
DEU           Germany
ESP             Spain
FRA            France
GBR    United Kingdom
IND             India
ITA             Italy
JPN             Japan
KOR       South Korea
MEX            Mexico
RUS            Russia
USA     United States
dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Using .describe()</span>
<span class="n">country_names_series</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count            15
unique           15
top       Australia
freq              1
dtype: object
</pre></div>
</div>
</div>
</div>
<p>Helpfully, Pandas has adjusted the <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> summary in light of the
<code class="docutils literal notranslate"><span class="pre">values</span></code> array of the <code class="docutils literal notranslate"><span class="pre">country_names_series</span></code> containing categorical/string
data.</p>
<p>We now see summaries of the number of values, number of unique values etc,
rather than numerical statistics like the mean and standard deviation.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code> method behaves the same as with numerical data, as both
numbers and strings can be unique in an array.  For our case, the output isn’t very interesting, as all the country names are unique.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">country_names_series</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Australia         1
Brazil            1
Canada            1
China             1
Germany           1
Spain             1
France            1
United Kingdom    1
India             1
Italy             1
Japan             1
South Korea       1
Mexico            1
Russia            1
United States     1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>If we want to see the <em>unique</em> values only, regardless of the number of times each value occurs, we can use the <code class="docutils literal notranslate"><span class="pre">.unique()</span></code> method.  This gives us a sorted array of the unique values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the unique values in the Series</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.896, 0.668, 0.89 , 0.586, 0.828, 0.844, 0.863, 0.49 , 0.842,
       0.883, 0.824, 0.709, 0.733, 0.894])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the unique values in the Series</span>
<span class="n">country_names_series</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;Australia&#39;, &#39;Brazil&#39;, &#39;Canada&#39;, &#39;China&#39;, &#39;Germany&#39;, &#39;Spain&#39;,
       &#39;France&#39;, &#39;United Kingdom&#39;, &#39;India&#39;, &#39;Italy&#39;, &#39;Japan&#39;,
       &#39;South Korea&#39;, &#39;Mexico&#39;, &#39;Russia&#39;, &#39;United States&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># But of course, all the country names are unique, and they </span>
<span class="c1"># are already sorted alphabetically, so the </span>
<span class="c1"># above is the same, in our case, as:</span>
<span class="n">country_names_series</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;Australia&#39;, &#39;Brazil&#39;, &#39;Canada&#39;, &#39;China&#39;, &#39;Germany&#39;, &#39;Spain&#39;,
       &#39;France&#39;, &#39;United Kingdom&#39;, &#39;India&#39;, &#39;Italy&#39;, &#39;Japan&#39;,
       &#39;South Korea&#39;, &#39;Mexico&#39;, &#39;Russia&#39;, &#39;United States&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
</section>
<section id="pandas-data-frame-attributes">
<h2>Pandas Data Frame attributes<a class="headerlink" href="#pandas-data-frame-attributes" title="Link to this heading">#</a></h2>
<p>Now, remember again our other maxim that <em>A <em>Data Frame</em> is a dictionary-like collection of Series.</em></p>
<p>Because of this, we can use all the methods we have seen so far on any Data Frame column. Each column is a Series, and therefore contains a Numpy array as its <code class="docutils literal notranslate"><span class="pre">.values</span></code> attribute.</p>
<p>However, Data Frames have some (useful!) extra methods (including statistical methods) not available for Series.</p>
<p>First, let’s import the <a class="reference external" href="https://ourworldindata.org/grapher/children-per-woman-vs-human-development-index">HDI/fertility rate data</a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import our dataset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/year_2000_hdi_fert.csv&quot;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Code</th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AUS</td>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>BRA</td>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>2</th>
      <td>CAN</td>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>3</th>
      <td>CHN</td>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>4</th>
      <td>DEU</td>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>5</th>
      <td>ESP</td>
      <td>0.828</td>
      <td>1.210</td>
      <td>41.0197</td>
      <td>Spain</td>
    </tr>
    <tr>
      <th>6</th>
      <td>FRA</td>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>7</th>
      <td>GBR</td>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>8</th>
      <td>IND</td>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
    <tr>
      <th>9</th>
      <td>ITA</td>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>10</th>
      <td>JPN</td>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>11</th>
      <td>KOR</td>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>12</th>
      <td>MEX</td>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>13</th>
      <td>RUS</td>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>14</th>
      <td>USA</td>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can use <code class="docutils literal notranslate"><span class="pre">dir()</span></code> on this Data Frame, to view all of the available
attributes and methods (that don’t begin with <code class="docutils literal notranslate"><span class="pre">_</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show all available operations on the dataframe</span>
<span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Code&#39;,
 &#39;Population&#39;,
 &#39;T&#39;,
 &#39;abs&#39;,
 &#39;add&#39;,
 &#39;add_prefix&#39;,
 &#39;add_suffix&#39;,
 &#39;agg&#39;,
 &#39;aggregate&#39;,
 &#39;align&#39;,
 &#39;all&#39;,
 &#39;any&#39;,
 &#39;apply&#39;,
 &#39;applymap&#39;,
 &#39;asfreq&#39;,
 &#39;asof&#39;,
 &#39;assign&#39;,
 &#39;astype&#39;,
 &#39;at&#39;,
 &#39;at_time&#39;,
 &#39;attrs&#39;,
 &#39;axes&#39;,
 &#39;backfill&#39;,
 &#39;between_time&#39;,
 &#39;bfill&#39;,
 &#39;bool&#39;,
 &#39;boxplot&#39;,
 &#39;clip&#39;,
 &#39;columns&#39;,
 &#39;combine&#39;,
 &#39;combine_first&#39;,
 &#39;compare&#39;,
 &#39;convert_dtypes&#39;,
 &#39;copy&#39;,
 &#39;corr&#39;,
 &#39;corrwith&#39;,
 &#39;count&#39;,
 &#39;cov&#39;,
 &#39;cummax&#39;,
 &#39;cummin&#39;,
 &#39;cumprod&#39;,
 &#39;cumsum&#39;,
 &#39;describe&#39;,
 &#39;diff&#39;,
 &#39;div&#39;,
 &#39;divide&#39;,
 &#39;dot&#39;,
 &#39;drop&#39;,
 &#39;drop_duplicates&#39;,
 &#39;droplevel&#39;,
 &#39;dropna&#39;,
 &#39;dtypes&#39;,
 &#39;duplicated&#39;,
 &#39;empty&#39;,
 &#39;eq&#39;,
 &#39;equals&#39;,
 &#39;eval&#39;,
 &#39;ewm&#39;,
 &#39;expanding&#39;,
 &#39;explode&#39;,
 &#39;ffill&#39;,
 &#39;fillna&#39;,
 &#39;filter&#39;,
 &#39;first&#39;,
 &#39;first_valid_index&#39;,
 &#39;flags&#39;,
 &#39;floordiv&#39;,
 &#39;from_dict&#39;,
 &#39;from_records&#39;,
 &#39;ge&#39;,
 &#39;get&#39;,
 &#39;groupby&#39;,
 &#39;gt&#39;,
 &#39;head&#39;,
 &#39;hist&#39;,
 &#39;iat&#39;,
 &#39;idxmax&#39;,
 &#39;idxmin&#39;,
 &#39;iloc&#39;,
 &#39;index&#39;,
 &#39;infer_objects&#39;,
 &#39;info&#39;,
 &#39;insert&#39;,
 &#39;interpolate&#39;,
 &#39;isetitem&#39;,
 &#39;isin&#39;,
 &#39;isna&#39;,
 &#39;isnull&#39;,
 &#39;items&#39;,
 &#39;iterrows&#39;,
 &#39;itertuples&#39;,
 &#39;join&#39;,
 &#39;keys&#39;,
 &#39;kurt&#39;,
 &#39;kurtosis&#39;,
 &#39;last&#39;,
 &#39;last_valid_index&#39;,
 &#39;le&#39;,
 &#39;loc&#39;,
 &#39;lt&#39;,
 &#39;map&#39;,
 &#39;mask&#39;,
 &#39;max&#39;,
 &#39;mean&#39;,
 &#39;median&#39;,
 &#39;melt&#39;,
 &#39;memory_usage&#39;,
 &#39;merge&#39;,
 &#39;min&#39;,
 &#39;mod&#39;,
 &#39;mode&#39;,
 &#39;mul&#39;,
 &#39;multiply&#39;,
 &#39;ndim&#39;,
 &#39;ne&#39;,
 &#39;nlargest&#39;,
 &#39;notna&#39;,
 &#39;notnull&#39;,
 &#39;nsmallest&#39;,
 &#39;nunique&#39;,
 &#39;pad&#39;,
 &#39;pct_change&#39;,
 &#39;pipe&#39;,
 &#39;pivot&#39;,
 &#39;pivot_table&#39;,
 &#39;plot&#39;,
 &#39;pop&#39;,
 &#39;pow&#39;,
 &#39;prod&#39;,
 &#39;product&#39;,
 &#39;quantile&#39;,
 &#39;query&#39;,
 &#39;radd&#39;,
 &#39;rank&#39;,
 &#39;rdiv&#39;,
 &#39;reindex&#39;,
 &#39;reindex_like&#39;,
 &#39;rename&#39;,
 &#39;rename_axis&#39;,
 &#39;reorder_levels&#39;,
 &#39;replace&#39;,
 &#39;resample&#39;,
 &#39;reset_index&#39;,
 &#39;rfloordiv&#39;,
 &#39;rmod&#39;,
 &#39;rmul&#39;,
 &#39;rolling&#39;,
 &#39;round&#39;,
 &#39;rpow&#39;,
 &#39;rsub&#39;,
 &#39;rtruediv&#39;,
 &#39;sample&#39;,
 &#39;select_dtypes&#39;,
 &#39;sem&#39;,
 &#39;set_axis&#39;,
 &#39;set_flags&#39;,
 &#39;set_index&#39;,
 &#39;shape&#39;,
 &#39;shift&#39;,
 &#39;size&#39;,
 &#39;skew&#39;,
 &#39;sort_index&#39;,
 &#39;sort_values&#39;,
 &#39;squeeze&#39;,
 &#39;stack&#39;,
 &#39;std&#39;,
 &#39;style&#39;,
 &#39;sub&#39;,
 &#39;subtract&#39;,
 &#39;sum&#39;,
 &#39;swapaxes&#39;,
 &#39;swaplevel&#39;,
 &#39;tail&#39;,
 &#39;take&#39;,
 &#39;to_clipboard&#39;,
 &#39;to_csv&#39;,
 &#39;to_dict&#39;,
 &#39;to_excel&#39;,
 &#39;to_feather&#39;,
 &#39;to_gbq&#39;,
 &#39;to_hdf&#39;,
 &#39;to_html&#39;,
 &#39;to_json&#39;,
 &#39;to_latex&#39;,
 &#39;to_markdown&#39;,
 &#39;to_numpy&#39;,
 &#39;to_orc&#39;,
 &#39;to_parquet&#39;,
 &#39;to_period&#39;,
 &#39;to_pickle&#39;,
 &#39;to_records&#39;,
 &#39;to_sql&#39;,
 &#39;to_stata&#39;,
 &#39;to_string&#39;,
 &#39;to_timestamp&#39;,
 &#39;to_xarray&#39;,
 &#39;to_xml&#39;,
 &#39;transform&#39;,
 &#39;transpose&#39;,
 &#39;truediv&#39;,
 &#39;truncate&#39;,
 &#39;tz_convert&#39;,
 &#39;tz_localize&#39;,
 &#39;unstack&#39;,
 &#39;update&#39;,
 &#39;value_counts&#39;,
 &#39;values&#39;,
 &#39;var&#39;,
 &#39;where&#39;,
 &#39;xs&#39;]
</pre></div>
</div>
</div>
</div>
<p>If you peruse the list you’ll notice that some of the methods have the sames as methods that apply to both Numpy arrays and Series. For instance, we can retrieve the <code class="docutils literal notranslate"><span class="pre">.shape</span></code> of the entire Data Frame.  This gives us the number of rows and the number of columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the shape attribute (n_rows, n_columns)</span>
<span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(15, 5)
</pre></div>
</div>
</div>
</div>
<p id="len-df"><code class="docutils literal notranslate"><span class="pre">len(df)</span></code> (therefore, <code class="docutils literal notranslate"><span class="pre">df.__len__()</span></code>) gives the number of rows.  This corresponds the Numpy behavior of giving the number of elements on the first dimension of the array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Length of Data Frame is number of rows.</span>
<span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<p>We can also pull out an individual Series/column and view the <code class="docutils literal notranslate"><span class="pre">.shape</span></code> of that specific Series:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># View the `shape` of a specific column</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Fertility Rate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(15,)
</pre></div>
</div>
</div>
</div>
<p>When accessed for the entire Data Frame, the <code class="docutils literal notranslate"><span class="pre">size</span></code> attribute works in the same way as we have seen for Numpy arrays and Pandas Series e.g. it will tell us the total number of <em>elements</em> in the entire Data Frame (e.g. the number of elements in the rows multiplied by the number of elements in the columns):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the `size` of the Data Frame</span>
<span class="n">df</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>75
</pre></div>
</div>
</div>
</div>
<div class="exercise dropdown admonition" id="attributes-series">

<p class="admonition-title"><span class="caption-number">Exercise 5 </span></p>
<section id="exercise-content">
<p>Your job here is to make a new Series which summarises aspects of the <code class="docutils literal notranslate"><span class="pre">df</span></code> Dataframe. In the <code class="docutils literal notranslate"><span class="pre">.values</span></code> array, your Series should contain the values of the <code class="docutils literal notranslate"><span class="pre">.shape</span></code> and <code class="docutils literal notranslate"><span class="pre">.size</span></code> attributes of <code class="docutils literal notranslate"><span class="pre">df</span></code>. It should also contain the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> of the <code class="docutils literal notranslate"><span class="pre">index</span></code> of <code class="docutils literal notranslate"><span class="pre">df</span></code> (therefore, telling your user whether the <code class="docutils literal notranslate"><span class="pre">index</span></code> contains numeric labels, <code class="docutils literal notranslate"><span class="pre">str</span></code> labels, or something else). See if you can figure out how to get Pandas to report this via indexing (e.g. rather than copy pasting the information from the output of <code class="docutils literal notranslate"><span class="pre">df.index</span></code>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">index</span></code> of your Series should clearly state what each <code class="docutils literal notranslate"><span class="pre">value</span></code> is. E.g. the strings <code class="docutils literal notranslate"><span class="pre">shape</span></code>, <code class="docutils literal notranslate"><span class="pre">size</span></code>, <code class="docutils literal notranslate"><span class="pre">index_dtype</span></code> should be the <code class="docutils literal notranslate"><span class="pre">index</span></code> labels in your Series.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute of your Series should be<code class="docutils literal notranslate"><span class="pre">df_attributes</span></code>.</p>
<p>When displayed, your Series should look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shape</span>          <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">size</span>                <span class="mi">60</span>
<span class="n">index_dtype</span>     <span class="nb">object</span>
<span class="n">Name</span><span class="p">:</span> <span class="n">df_attributes</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</pre></div>
</div>
<p>Try to create this Series in as few lines of code as possible.</p>
<p>You may run into an error with the <code class="docutils literal notranslate"><span class="pre">shape</span></code> attribute. Try running <code class="docutils literal notranslate"><span class="pre">hint_1()</span></code> for a hint on how to solve this.</p>
<p>You can also run <code class="docutils literal notranslate"><span class="pre">hint_2()</span></code> to get a hint on how to get Pandas to report the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> of the <code class="docutils literal notranslate"><span class="pre">index</span></code>.</p>
<p><strong>Try to use the hints as a last resort, however…</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Your code here</span>
</pre></div>
</div>
</div>
</div>
</section>
</div>
<div class="solution dropdown admonition" id="0_2_pandas_dataframes_attributes_methods-solution-1">

<p class="admonition-title">Solution to<a class="reference internal" href="#attributes-series"> Exercise 5</a></p>
<section id="solution-content">
<p>Our solution to this is below. First, we create an array containing the attributes. We must use the <code class="docutils literal notranslate"><span class="pre">str()</span></code> function to convert the output of <code class="docutils literal notranslate"><span class="pre">df.shape</span></code> to a single dimension (a <code class="docutils literal notranslate"><span class="pre">str</span></code> with 7 characters, rather than a <code class="docutils literal notranslate"><span class="pre">(2,</span> <span class="pre">)</span></code> tuple). This is in order to make its shape match that of <code class="docutils literal notranslate"><span class="pre">df.size</span></code> and the <code class="docutils literal notranslate"><span class="pre">index.dtype</span></code> string. Otherwise we get a nasty error when passing the array to the <code class="docutils literal notranslate"><span class="pre">pd.Series()</span></code> constructor, because we are trying to make a <code class="docutils literal notranslate"><span class="pre">.values</span></code> array using values with incompatible dimensions.</p>
<p>We got the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> of the <code class="docutils literal notranslate"><span class="pre">index</span></code> labels by accessing the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">index</span></code>, in a chained operation e.g.: <code class="docutils literal notranslate"><span class="pre">df.index.dtype</span></code>.</p>
<p>We set the <code class="docutils literal notranslate"><span class="pre">index</span></code> and the <code class="docutils literal notranslate"><span class="pre">name</span></code> when we call the as optional arguments within <code class="docutils literal notranslate"><span class="pre">pd.Series()</span></code> (you may have done this using <code class="docutils literal notranslate"><span class="pre">df.index</span> <span class="pre">=</span> </code> and <code class="docutils literal notranslate"><span class="pre">df.name</span> <span class="pre">=</span></code>, which is another valid approach):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make an array containing the desired attributes - note the use of `str()`</span>
<span class="n">attributes_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">),</span>
                             <span class="n">df</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
                             <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">dtype</span><span class="p">])</span>

<span class="c1"># Convert to Series, specify `index` and `name`</span>
<span class="n">df_attributes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">attributes_array</span><span class="p">,</span>
                          <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;shape&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">,</span> <span class="s2">&quot;index_dtype&quot;</span><span class="p">],</span>
                          <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;df_attributes&quot;</span> <span class="p">)</span>
<span class="c1"># Show the Series</span>
<span class="n">df_attributes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>shape          (15, 5)
size                75
index_dtype      int64
Name: df_attributes, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Creating your own Series in this way (perhaps performed by a custom function) can be useful for displaying bespoke summaries of a dataset/Dataframe. However, normally this would be done with more complicated statistical information, not just the <code class="docutils literal notranslate"><span class="pre">shape</span></code>/<code class="docutils literal notranslate"><span class="pre">size</span></code>/<code class="docutils literal notranslate"><span class="pre">dtype</span></code>!</p>
</section>
</div>
<p>Once we’ve done these preliminary inspections and we know how many observations we have, in any data analysis context, we will always want to know what variables we have in the Data Frame columns, and (again) what type of data is in each.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.columns</span></code> attribute will tell us the name (label) for each column:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the column names</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Code&#39;, &#39;Human Development Index&#39;, &#39;Fertility Rate&#39;, &#39;Population&#39;,
       &#39;Country Name&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>…and we can use the <code class="docutils literal notranslate"><span class="pre">.dtypes</span></code> attribute to inspect the type of data in each column:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the dtype in each column</span>
<span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Code                        object
Human Development Index    float64
Fertility Rate             float64
Population                 float64
Country Name                object
dtype: object
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">object</span></code> data type means that the column contains either mixed data or string data (in this case string data). The numeric data in this Data Frame is represented as a 64-bit float (<code class="docutils literal notranslate"><span class="pre">float64</span></code>).</p>
<p>Now we know how much data we have, and what type of data it is. Currently, if
we want to access a specific row of the Data Frame (remember, each row here is
one country), we will have to index either by position, or by using the labels from the default <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code>. We did not
specify an index when we loaded in the Data Frame, so, as we learned
previously, Pandas will automatically supply one:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the index (representing the integers 0 through 14)</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=15, step=1)
</pre></div>
</div>
</div>
</div>
<p>We have <a class="reference internal" href="0_1_to_loc_or_iloc.html"><span class="std std-doc">already discussed</span></a> the downsides of using the default (integer) index. As we have seen before, we can use the <code class="docutils literal notranslate"><span class="pre">.set_index()</span></code> method to choose a column containing values which we will use as index labels. We have come across Data Frame methods previously (<code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code>) and will look at more in the next section. For now, just remember that <em>methods</em> differ from data <em>attributes</em> in that they are a <em>function attached to an object</em> rather than just a value attached to an object. Methods often do something to or with the data rather than just report a value or set of values, like an attribute does.</p>
<p>Let’s set the <code class="docutils literal notranslate"><span class="pre">Code</span></code> column (containing the three-letter country codes) to be our index labels:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the index as country name</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;Code&quot;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>1.210</td>
      <td>41.0197</td>
      <td>Spain</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>As expected, when we now view the <code class="docutils literal notranslate"><span class="pre">index</span></code> attribute, we see that the country codes are the values that populate the index:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show that the index is now country names</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;AUS&#39;, &#39;BRA&#39;, &#39;CAN&#39;, &#39;CHN&#39;, &#39;DEU&#39;, &#39;ESP&#39;, &#39;FRA&#39;, &#39;GBR&#39;, &#39;IND&#39;, &#39;ITA&#39;,
       &#39;JPN&#39;, &#39;KOR&#39;, &#39;MEX&#39;, &#39;RUS&#39;, &#39;USA&#39;],
      dtype=&#39;object&#39;, name=&#39;Code&#39;)
</pre></div>
</div>
</div>
</div>
<p>…and we can use the now familiar (and less error-prone) label-based indexing with strings to retrieve specific rows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Remember what having the codes in the index lets us do</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s1">&#39;USA&#39;</span><span class="p">,</span> <span class="s1">&#39;ITA&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="pandas-data-frame-methods">
<h2>Pandas Data Frame methods<a class="headerlink" href="#pandas-data-frame-methods" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code> method we used on the <a class="reference internal" href="0_1_to_loc_or_iloc.html"><span class="std std-doc">previous page</span></a> and the <code class="docutils literal notranslate"><span class="pre">set_index()</span></code> method we just used in the last section are just some of the many methods attached to Pandas Data Frames. We saw that many Numpy array methods have parallel versions that apply to Pandas Series and this principle also applies to Data Frames, built as they are from Pandas Series.</p>
<p>Many Data Frame methods will report information from the Data Frame <em>as a whole</em>, rather than just for a given column/Series.</p>
<p>For instance, remember the <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> method for a Series.  Here we pull out a column from the Data Frame with direct indexing, and then call <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> on that Series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pull the HDI column out of the Data Frame with direct indexing.</span>
<span class="n">hdi_from_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Human Development Index&#39;</span><span class="p">]</span>
<span class="c1"># The result is a Series, on which we can call the Series</span>
<span class="c1"># `.describe()` method.</span>
<span class="n">hdi_from_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    15.000000
mean      0.789333
std       0.125514
min       0.490000
25%       0.721000
50%       0.842000
75%       0.886500
max       0.896000
Name: Human Development Index, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>We can also call the <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> method on the whole Data Frame. The same useful statistical summary is shown for every column when we use the method on the whole Data Frame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Describe numerical variables</span>
<span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>15.000000</td>
      <td>15.000000</td>
      <td>15.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.789333</td>
      <td>1.773867</td>
      <td>236.719867</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.125514</td>
      <td>0.605841</td>
      <td>384.483326</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.490000</td>
      <td>1.190000</td>
      <td>19.132400</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.721000</td>
      <td>1.366000</td>
      <td>52.019400</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.842000</td>
      <td>1.628000</td>
      <td>81.797200</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.886500</td>
      <td>1.953000</td>
      <td>160.367950</td>
    </tr>
    <tr>
      <th>max</th>
      <td>0.896000</td>
      <td>3.350000</td>
      <td>1269.581100</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can also use direct indexing to <code class="docutils literal notranslate"><span class="pre">describe</span></code> a specific subset of columns:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># For categorical variables</span>
<span class="c1"># Define columns we want to select.</span>
<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Fertility Rate&#39;</span><span class="p">,</span> <span class="s1">&#39;Human Development Index&#39;</span><span class="p">]</span>
<span class="c1"># Select columns by direct indexing, then describe.</span>
<span class="n">df</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Fertility Rate</th>
      <th>Human Development Index</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>15.000000</td>
      <td>15.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.773867</td>
      <td>0.789333</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.605841</td>
      <td>0.125514</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.190000</td>
      <td>0.490000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.366000</td>
      <td>0.721000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.628000</td>
      <td>0.842000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.953000</td>
      <td>0.886500</td>
    </tr>
    <tr>
      <th>max</th>
      <td>3.350000</td>
      <td>0.896000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="exercise dropdown admonition" id="by-any-means">

<p class="admonition-title"><span class="caption-number">Exercise 6 </span></p>
<section id="exercise-content">
<p>Write code you need to create a Series that contains the just the means of the <code class="docutils literal notranslate"><span class="pre">Human</span> <span class="pre">Development</span> <span class="pre">Index</span></code>, <code class="docutils literal notranslate"><span class="pre">Fertility</span> <span class="pre">Rate</span></code> and <code class="docutils literal notranslate"><span class="pre">Population</span></code> variables. For good measure, let’s also require that the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute is set to <code class="docutils literal notranslate"><span class="pre">mean</span></code>. The output should look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Human</span> <span class="n">Development</span> <span class="n">Index</span>      <span class="mf">0.789333</span>
<span class="n">Fertility</span> <span class="n">Rate</span>               <span class="mf">1.773867</span>
<span class="n">Population</span>                 <span class="mf">236.719867</span>
<span class="n">Name</span><span class="p">:</span> <span class="n">mean</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</pre></div>
</div>
<p>Try to do this in as few lines of code as possible, using the methods shown on this page…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Your code here</span>
</pre></div>
</div>
</div>
</div>
</section>
</div>
<div class="solution dropdown admonition" id="0_2_pandas_dataframes_attributes_methods-solution-3">

<p class="admonition-title">Solution to<a class="reference internal" href="#by-any-means"> Exercise 6</a></p>
<section id="solution-content">
<p>The output of the <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> method is itself a Dataframe, and the <code class="docutils literal notranslate"><span class="pre">index</span></code> of this Dataframe contains a row called <code class="docutils literal notranslate"><span class="pre">mean</span></code>, which, shockingly, contains the means. As a result, you can use <code class="docutils literal notranslate"><span class="pre">.loc</span></code> indexing to retrieve just the means from the output of <code class="docutils literal notranslate"><span class="pre">.describe()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solution</span>
<span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Human Development Index      0.789333
Fertility Rate               1.773867
Population                 236.719867
Name: mean, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Another option is to manually drop the column containing non-numeric data, and then use the <code class="docutils literal notranslate"><span class="pre">.mean()</span></code> method, and manually specify the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean_series</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Country Name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">mean_series</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;mean&quot;</span>
<span class="n">mean_series</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Human Development Index      0.789333
Fertility Rate               1.773867
Population                 236.719867
Name: mean, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>A further solution (much less elegent) is to calculate the means manually, store them in an array or list, then using the <code class="docutils literal notranslate"><span class="pre">pd.Series()</span></code> constructor with <code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">=</span> <span class="pre">mean</span></code> and <code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">=</span> <span class="pre">['Human</span> <span class="pre">Development</span> <span class="pre">Index',</span> <span class="pre">'Fertility</span> <span class="pre">Rate',</span> <span class="pre">'Population']</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate the means</span>
<span class="n">mean_hdi</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Human Development Index&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">mean_fert</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Fertility Rate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">mean_pop</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Population&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># An array of the means</span>
<span class="n">means_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">mean_hdi</span><span class="p">,</span> <span class="n">mean_fert</span><span class="p">,</span> <span class="n">mean_pop</span><span class="p">])</span>

<span class="c1"># Create a Series</span>
<span class="n">means_series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">means_arr</span><span class="p">,</span> 
                         <span class="n">name</span><span class="o">=</span><span class="s2">&quot;means&quot;</span><span class="p">,</span>
                         <span class="n">index</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Human Development Index&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;Fertility Rate&#39;</span><span class="p">,</span> <span class="s1">&#39;Population&#39;</span><span class="p">])</span>

<span class="n">means_series</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Human Development Index      0.789333
Fertility Rate               1.773867
Population                 236.719867
Name: means, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Phew! That really was inefficient. Many Pandas methods are designed to save us time in situations exactly like this…</p>
<p>In fact, Pandas is a particularly good example of a complex library where there are many ways of achieving the same result, and where AI or careless StackOverflow searches can give you a very inefficient or inelegant solution.   We strongly advise you to keep investing the time to work out the most elegant solution to your Pandas problems, in order to keep learning, and so that you write code that others can read, including you, the maintainer.</p>
</section>
</div>
<p>Because each Data Frame column is just a Pandas Series, all of the Series methods we saw above can be used on individual Series:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mean of Series extracted from a Data Frame.</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Fertility Rate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(1.7738666666666667)
</pre></div>
</div>
</div>
</div>
<p>By contrast, other methods, like <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code> take a column name as an argument, but have effects on the entire Data Frame.</p>
<p>For instance, if we want to sort <em>rows of the whole Data Frame</em> by <code class="docutils literal notranslate"><span class="pre">Human</span> <span class="pre">Development</span> <span class="pre">Index</span></code> scores:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort values by HDI, lowest value first (sort ascending).</span>
<span class="n">df_by_hdi</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Human Development Index&#39;</span><span class="p">)</span>
<span class="n">df_by_hdi</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>1.210</td>
      <td>41.0197</td>
      <td>Spain</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort values by HDI, highest value first (sort descending).</span>
<span class="n">df_by_hdi_reversed</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Human Development Index&#39;</span><span class="p">,</span>
                                    <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df_by_hdi_reversed</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>1.210</td>
      <td>41.0197</td>
      <td>Spain</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can also sort the Data Frame rows by the values in the index, using <code class="docutils literal notranslate"><span class="pre">.sort_index()</span></code>.  By default this sorts the Index values from lowest to highest.  Because the Index in our case has <code class="docutils literal notranslate"><span class="pre">str</span></code> values, this sorts the Index in alphabetical order, so <code class="docutils literal notranslate"><span class="pre">df.sort_index()</span></code> will arrange the rows of the Data Frame in alphabetical order according to the Index values:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort index (in alphabetical order)</span>
<span class="n">df_by_hdi_reversed</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>1.210</td>
      <td>41.0197</td>
      <td>Spain</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort index (reverse alphabetical order)</span>
<span class="n">df_rev_ind</span> <span class="o">=</span> <span class="n">df_by_hdi_reversed</span><span class="o">.</span><span class="n">sort_index</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df_rev_ind</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>1.210</td>
      <td>41.0197</td>
      <td>Spain</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Another useful method that can be powerful in tandem with label-based indexing, is <code class="docutils literal notranslate"><span class="pre">.drop()</span></code>. This lets us specify rows, using index labels, that we want to remove from the Data Frame. For instance, if we want to remove the data for Australia we can use:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Drop the &#39;USA&#39; row</span>
<span class="n">df_rev_ind</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>1.210</td>
      <td>41.0197</td>
      <td>Spain</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If you compare this to the output from the last cell you will see that, as if by magic, the row for <code class="docutils literal notranslate"><span class="pre">USA</span></code> has disappeared.</p>
<section id="methods-for-getting-subsets-of-data-from-a-data-frame">
<h3>Methods for getting subsets of data from a Data Frame<a class="headerlink" href="#methods-for-getting-subsets-of-data-from-a-data-frame" title="Link to this heading">#</a></h3>
<p>Another common operation we may want to perform is to view only the start (e.g. the <code class="docutils literal notranslate"><span class="pre">.head</span></code>) or the end (e.g. the <code class="docutils literal notranslate"><span class="pre">.tail</span></code>) of a Data Frame. For instance, if the rows are organized by time, amongst many other reasons.</p>
<p>We could just use <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> position-based indexing to do this. For example, to view the first three rows of the Data Frame we can use:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># View the first three rows of the Data Frame, using `.iloc`</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Or, alternatively, to view the last three rows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># View the last three rows of the Data Frame, using `.iloc`</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>However, the kind folks at Pandas, because these operations are so common, have provided us the <code class="docutils literal notranslate"><span class="pre">.head()</span></code> and <code class="docutils literal notranslate"><span class="pre">.tail()</span></code> methods to do the same thing, with less typing and better readability.</p>
<p><code class="docutils literal notranslate"><span class="pre">.head()</span></code> without arguments gives us the first five rows, equivalent to <code class="docutils literal notranslate"><span class="pre">.iloc[5]</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Default .head() gives first five rows.</span>
<span class="c1"># Equivalent to `df.iloc[:5]</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can pass an integer to the <code class="docutils literal notranslate"><span class="pre">.head()</span></code> method to specify the number of rows from the start of the Data Frame which we want to view.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Specify number of rows to .head().</span>
<span class="c1"># Equivalent to `df.iloc[:3]</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># View the first three rows of the Data Frame, using `.head()`</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can also do the same thing at the other end of the Data Frame, using the <code class="docutils literal notranslate"><span class="pre">.tail()</span></code> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># By default, `.tail()` gives the last five rows of the Data Frame.</span>
<span class="c1"># Equivalent to `df.iloc[-5:]</span>
<span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Specify the number of rows counting from the last.</span>
<span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In addition to retrieving rows from the extremes of the Data Frame, we may also, for many different purposes, want to retrieve a <em>random</em> set of rows.</p>
<p>We can do this using the <code class="docutils literal notranslate"><span class="pre">.sample()</span></code> method. The syntax here is just the same as for <code class="docutils literal notranslate"><span class="pre">.head()</span></code> and <code class="docutils literal notranslate"><span class="pre">.tail()</span></code>, only now we are specifying the <em>number of random rows</em> we want to grab from the Data Frame.</p>
<p>For instance, if let’s say we want to get three random rows, without replacement (so that we can’t get the same row twice):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Grab three rows at random using `.sample()`</span>
<span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Even using the small dataset we have here, the overwhelming probability is that we will get a different selection of rows each time we run this command:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Grab three rows at random AGAIN using `.sample()`</span>
<span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If you are running this tutorial interactively, re-run the cell above a few times to see randomness in action…</p>
<p>Check the documentation for <code class="docutils literal notranslate"><span class="pre">.sample</span></code> by uncommenting the cell below, and running the cell (e.g. with Shift-Return):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show documentation with (uncomment below and run):</span>
<span class="c1"># df.sample?</span>
</pre></div>
</div>
</div>
</div>
<p>Notice that by default the sampling is <em>without replacement</em>, so once a row has been pulled into the output sample, it cannot be selected again for the remaining values in the sample.  When we deal out hands of cards from a standard 52-card deck., we are sampling from the pack without replacement, because any one card cannot be dealt more than once.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The first five rows.</span>
<span class="n">first_five</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="c1"># Sample four values without replacement (the default).</span>
<span class="n">first_five</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Notice that no row appears twice in the sample.  Notice too that if we pass in an <code class="docutils literal notranslate"><span class="pre">n</span></code> of more than the number of rows, resampling without replacement has to fail, because it will run out of rows to sample from:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Trying to take a without-replacement sample that is too large.</span>
<span class="n">first_five</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">77</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Trying to take a without-replacement sample that is too large.</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">first_five</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/core/generic.py:6137,</span> in <span class="ni">NDFrame.sample</span><span class="nt">(self, n, frac, replace, weights, random_state, axis, ignore_index)</span>
<span class="g g-Whitespace">   </span><span class="mi">6134</span> <span class="k">if</span> <span class="n">weights</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">6135</span>     <span class="n">weights</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">preprocess_weights</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">6137</span> <span class="n">sampled_indices</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">obj_len</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">replace</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">rs</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">6138</span> <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">sampled_indices</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">6140</span> <span class="k">if</span> <span class="n">ignore_index</span><span class="p">:</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/core/sample.py:152,</span> in <span class="ni">sample</span><span class="nt">(obj_len, size, replace, weights, random_state)</span>
<span class="g g-Whitespace">    </span><span class="mi">149</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">150</span>         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid weights: weights sum to zero&quot;</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">152</span> <span class="k">return</span> <span class="n">random_state</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">obj_len</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="n">replace</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">weights</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">153</span>     <span class="n">np</span><span class="o">.</span><span class="n">intp</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span>
<span class="g g-Whitespace">    </span><span class="mi">154</span> <span class="p">)</span>

<span class="nn">File numpy/random/mtrand.pyx:1020,</span> in <span class="ni">numpy.random.mtrand.RandomState.choice</span><span class="nt">()</span>

<span class="ne">ValueError</span>: Cannot take a larger sample than population when &#39;replace=False&#39;
</pre></div>
</div>
</div>
</div>
<p>Conversely, if we specify with-replacement sampling, we can ask for as many values as we want.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sampling 10 values from original 5, *with replacement*.</span>
<span class="n">first_five</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We have so far specified the size of our sample with <code class="docutils literal notranslate"><span class="pre">n</span></code> — the number of rows
in the sample — but we can also specify the size as a fraction of the whole
Data Frame.  To get a sample that is half the size the original Data Frame
(<code class="docutils literal notranslate"><span class="pre">np.round(15</span> <span class="pre">/</span> <span class="pre">2)</span> <span class="pre">==</span> <span class="pre">8</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Take sample half the size of the original.</span>
<span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="exercise dropdown admonition" id="random-samples">

<p class="admonition-title"><span class="caption-number">Exercise 7 </span></p>
<section id="exercise-content">
<p>There are functions within Numpy (as well as other libraries) that shuffle/permute/randomize data within an array (or an arraylike object, such as a list).</p>
<p>Let’s say we want to shuffle the <em>rows</em> in our Dataframe. We can do this with the <code class="docutils literal notranslate"><span class="pre">permutation()</span></code> function from the <code class="docutils literal notranslate"><span class="pre">numpy.random</span></code> submodule, but the output is very ugly. This operation brutally removes the nice Dataframe graphics (at least when run in a Jupyter notebook), and puts the rows of the Dataframe into a Numpy array, as shown below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Effective but ugly</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">permutation</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.49, 3.35, 1057.9227, &#39;India&#39;],
       [0.586, 1.628, 1269.5811, &#39;China&#39;],
       [0.824, 1.467, 46.7666, &#39;South Korea&#39;],
       [0.883, 1.346, 127.0278, &#39;Japan&#39;],
       [0.668, 2.247, 174.0182, &#39;Brazil&#39;],
       [0.828, 1.21, 41.0197, &#39;Spain&#39;],
       [0.842, 1.249, 57.2722, &#39;Italy&#39;],
       [0.733, 1.19, 146.7177, &#39;Russia&#39;],
       [0.896, 1.764, 19.1324, &#39;Australia&#39;],
       [0.709, 2.714, 98.6255, &#39;Mexico&#39;],
       [0.863, 1.641, 59.0573, &#39;United Kingdom&#39;],
       [0.89, 1.51, 30.8918, &#39;Canada&#39;],
       [0.844, 1.876, 59.4837, &#39;France&#39;],
       [0.894, 2.03, 281.4841, &#39;United States&#39;],
       [0.89, 1.386, 81.7972, &#39;Germany&#39;]], dtype=object)
</pre></div>
</div>
</div>
</div>
<p>Can you think of a way to perform this operation using only the Pandas methods we have seen so far on this page? In the cell below, you should write code which will:</p>
<ul class="simple">
<li><p>randomize the order of the <em>rows</em> in the Dataframe. The data in each row should be the same as before shuffling (e.g. the data for Russia should still be the data for Russia etc.)</p></li>
<li><p>ensure that no rows are removed or duplicated, just shuffled</p></li>
</ul>
<p>Try to find the solution in the cell below. Use as few lines of code as possible:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Your solution here</span>
</pre></div>
</div>
</div>
</div>
</section>
</div>
<div class="solution dropdown admonition" id="0_2_pandas_dataframes_attributes_methods-solution-5">

<p class="admonition-title">Solution to<a class="reference internal" href="#random-samples"> Exercise 7</a></p>
<section id="solution-content">
<p>The solution is to take a <code class="docutils literal notranslate"><span class="pre">.sample()</span></code> which is the same <em>size as the number of rows in the original dataframe</em>. We can do this easily by using <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">len(df)</span></code> as in the input for <code class="docutils literal notranslate"><span class="pre">df.sample()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A trick to shuffle the rows</span>
<span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>1.210</td>
      <td>41.0197</td>
      <td>Spain</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Or, with greater grace, we can use <code class="docutils literal notranslate"><span class="pre">frac=1</span></code>, to mean “take a random sample of 100% of the rows”, effectively permuting them:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A clean, efficient way to permute the rows</span>
<span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>1.210</td>
      <td>41.0197</td>
      <td>Spain</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If you look at the <code class="docutils literal notranslate"><span class="pre">index</span></code> of either Dataframe in the above ceels, you’ll notice that the rows are now in a random order.</p>
<p>Because the sample is a random selection of the rows - and the default setting of <code class="docutils literal notranslate"><span class="pre">.sample()</span></code> is to sample <em>without replacement</em>  - using both <code class="docutils literal notranslate"><span class="pre">.sample(len(df))</span></code> and <code class="docutils literal notranslate"><span class="pre">df.sample(frac=1)</span></code> has the effect of randomizing the row order. All the original rows remaining in the sample, and there is no duplication of any rows.</p>
<p>This method is often used on individual columns to (most likely) remove any statistical relationships between the data in that column and other columns. For instance, for <a class="reference external" href="https://matthew-brett.github.io/cfd2020/permutation/permutation_and_t_test.html">permutation testing</a>.</p>
</section>
</div>
<div class="exercise dropdown admonition" id="more-random">

<p class="admonition-title"><span class="caption-number">Exercise 8 </span></p>
<section id="exercise-content">
<p>We mentioned above that the default behaviour of the <code class="docutils literal notranslate"><span class="pre">.sample()</span></code> method is to sample <em>without replacement</em>. We also mentioned that you can use the <code class="docutils literal notranslate"><span class="pre">replace=</span></code> argument to sample <em>with</em> replacement.</p>
<p>To use a classic “drawing marbles from a bag” analogy, this means that when we randomly select a marble, we place it <em>back</em> in the bag (after recording it’s identity/colour etc) before we randomly draw the next marble. This means the same marble can appear twice in the final sample.</p>
<p>As mentioned above, if we draw a sample of rows <em>with replacement</em> from our Dataframe, then individual rows can appear more than once in the resultant sample. If we draw a sample with replacement which is <em>larger</em> than the original data, it will certainly contain duplicate rows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A sample with replacement</span>
<span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> 
          <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Quickly scan the <code class="docutils literal notranslate"><span class="pre">index</span></code> for duplicates, to see that it contains duplicates (as it must, in order to generate a sample of this size).</p>
<p>Your task is the following:</p>
<ul class="simple">
<li><p>take a random sample <em>with replacement</em> of all the rows in the Dataframe (e.g. your sample should have the <em>same number of rows</em> as the original Dataframe)</p></li>
<li><p>use an appropriate method to calculate the means of <code class="docutils literal notranslate"><span class="pre">Human</span> <span class="pre">Development</span> <span class="pre">Index</span></code>, <code class="docutils literal notranslate"><span class="pre">Fertility</span> <span class="pre">Rate</span></code> and <code class="docutils literal notranslate"><span class="pre">Population</span></code>, from your random sample</p></li>
<li><p>using Pandas methods and indexing operations, calculate the <em>difference</em> between the means of <code class="docutils literal notranslate"><span class="pre">Human</span> <span class="pre">Development</span> <span class="pre">Index</span></code>, <code class="docutils literal notranslate"><span class="pre">Fertility</span> <span class="pre">Rate</span></code> and <code class="docutils literal notranslate"><span class="pre">Population</span></code> in your sample vs the means for the same variables in the original data</p></li>
<li><p>store your result in a Pandas Series (note: depending what methods you use, your result may automatically be stored in a Pandas Series)</p></li>
</ul>
<p>The result should look something like this (though your differences will differ from the ones shown below, because of the randomness inherent in your sampling):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Human</span> <span class="n">Development</span> <span class="n">Index</span>      <span class="mf">0.074467</span>
<span class="n">Fertility</span> <span class="n">Rate</span>              <span class="o">-</span><span class="mf">0.182600</span>
<span class="n">Population</span>                <span class="o">-</span><span class="mf">210.516580</span>
<span class="n">Name</span><span class="p">:</span> <span class="n">mean</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</pre></div>
</div>
<p>Try to do this in as few lines of code as possible.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Your code here</span>
</pre></div>
</div>
</div>
</div>
</section>
</div>
<div class="solution dropdown admonition" id="0_2_pandas_dataframes_attributes_methods-solution-7">

<p class="admonition-title">Solution to<a class="reference internal" href="#more-random"> Exercise 8</a></p>
<section id="solution-content">
<p>There are several ways you can achieve this, but one way of doing it in a single line of code is to <em>chain Pandas methods together</em>.</p>
<p>The left hand side of the subtraction operation in the cell below uses the <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> method and <code class="docutils literal notranslate"><span class="pre">.loc</span></code> indexing to calculate the means of the original data.</p>
<p>The right hand side of the subtraction draws a sample (the same size as the number of rows in <code class="docutils literal notranslate"><span class="pre">df</span></code>) using <code class="docutils literal notranslate"><span class="pre">.sample()</span></code> with <code class="docutils literal notranslate"><span class="pre">replace=True</span></code>. It then uses <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> to calculate the means of the numeric variables <em>in this random sample</em>, and then <code class="docutils literal notranslate"><span class="pre">.loc</span></code> to select just those means (as opposed to including the other information that <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> reports, like standard deviations etc).</p>
<p>The result of this subtraction shows us the difference between the original means and the means of our <em>resample</em> (e.g. our random sample, drawn with replacement):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the difference in the means (original data vs resample)</span>
<span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Human Development Index    -0.027867
Fertility Rate             -0.070533
Population                 48.788240
Name: mean, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>You can also perform the same process, less efficiently, spread over multiple lines of code. The way shown below is not the only possible way - perhaps you used the <code class="docutils literal notranslate"><span class="pre">.mean()</span></code> method individually on each column, for instance, and then manually constructed a <code class="docutils literal notranslate"><span class="pre">Series</span></code> to store the results (even less efficient!) . Alternatively, you might have used <code class="docutils literal notranslate"><span class="pre">.drop()</span></code> to remove non-numeric columns, and then used <code class="docutils literal notranslate"><span class="pre">.mean()</span></code> in parallel on the numeric columns, another valid approach:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate the original means</span>
<span class="n">original_means</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>

<span class="c1"># Generate a resample</span>
<span class="n">resample</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> 
                     <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Calculate the resample means</span>
<span class="n">resample_means</span> <span class="o">=</span> <span class="n">resample</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>

<span class="c1"># Calculate the difference in means</span>
<span class="n">difference_in_means</span> <span class="o">=</span> <span class="n">original_means</span> <span class="o">-</span> <span class="n">resample_means</span>

<span class="c1"># Show the difference</span>
<span class="n">difference_in_means</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Human Development Index    -0.023333
Fertility Rate              0.033933
Population                 99.038487
Name: mean, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Similar kinds of <em>resampling procedure</em> are often used to generate <a class="reference external" href="https://nbviewer.org/github/pxr687/bootstrap_tutorial/blob/main/bootstrap.ipynb">bootstrapped confidence intervals</a>.</p>
</section>
</div>
</section>
</section>
<section id="plotting-methods">
<h2>Plotting Methods<a class="headerlink" href="#plotting-methods" title="Link to this heading">#</a></h2>
<p>The Data Frame plotting <em>methods</em> that we have seen on the previous pages actually also apply to Series.</p>
<p>When working with a Series, it makes most sense most of the time to use the <code class="docutils literal notranslate"><span class="pre">kind</span> <span class="pre">=</span> <span class="pre">'hist'</span></code> argument to inspect the distribution of the data in that Series:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hdi_series</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e468d237a20d07ee50ed0ef478a2ea8832370992ee7b3d2a2ec3565eb8968f67.png" src="_images/e468d237a20d07ee50ed0ef478a2ea8832370992ee7b3d2a2ec3565eb8968f67.png" />
</div>
</div>
<p>Other kinds of plot require data specified both for the x- and y- axes, so can only be used with Data Frames:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A ValueError from trying to scatter plot a Series</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">89</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># A ValueError from trying to scatter plot a Series</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">hdi_series</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/plotting/_core.py:977,</span> in <span class="ni">PlotAccessor.__call__</span><span class="nt">(self, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">975</span>         <span class="k">return</span> <span class="n">plot_backend</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">976</span>     <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">977</span>         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;plot kind </span><span class="si">{</span><span class="n">kind</span><span class="si">}</span><span class="s2"> can only be used for data frames&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">978</span> <span class="k">elif</span> <span class="n">kind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_series_kinds</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">979</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ABCDataFrame</span><span class="p">):</span>

<span class="ne">ValueError</span>: plot kind scatter can only be used for data frames
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show a scatter plot on a Data Frame, specifying x- and y- axes.</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Human Development Index&#39;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Fertility Rate&#39;</span><span class="p">,</span>
        <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3d4e283578d43f9053b031f138ce30660c654051b1a9f5fe47823d1d127f585b.png" src="_images/3d4e283578d43f9053b031f138ce30660c654051b1a9f5fe47823d1d127f585b.png" />
</div>
</div>
</section>
<section id="a-note-on-numerical-operations">
<h2>A note on numerical operations<a class="headerlink" href="#a-note-on-numerical-operations" title="Link to this heading">#</a></h2>
<p>Any numerical operations performed on the Data Frame <em>as a whole</em> will be default be performed on the <code class="docutils literal notranslate"><span class="pre">values</span></code> in the Series that make up each column.</p>
<p>So, if we want to do something like multiplying the entire Data Frame by a single number, this operation will be performed separately on each element of each Series in the Data Frame.</p>
<p>This might make sense for some Data Frames, but in our case, we have string data in one column, so applying the multiplication to values in the <code class="docutils literal notranslate"><span class="pre">str</span></code> Series will give us results we probably didn’t want:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This probably won&#39;t make sense in our case.</span>
<span class="n">df</span> <span class="o">*</span> <span class="mi">200</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>179.2</td>
      <td>352.8</td>
      <td>3826.48</td>
      <td>AustraliaAustraliaAustraliaAustraliaAustraliaA...</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>133.6</td>
      <td>449.4</td>
      <td>34803.64</td>
      <td>BrazilBrazilBrazilBrazilBrazilBrazilBrazilBraz...</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>178.0</td>
      <td>302.0</td>
      <td>6178.36</td>
      <td>CanadaCanadaCanadaCanadaCanadaCanadaCanadaCana...</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>117.2</td>
      <td>325.6</td>
      <td>253916.22</td>
      <td>ChinaChinaChinaChinaChinaChinaChinaChinaChinaC...</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>178.0</td>
      <td>277.2</td>
      <td>16359.44</td>
      <td>GermanyGermanyGermanyGermanyGermanyGermanyGerm...</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>165.6</td>
      <td>242.0</td>
      <td>8203.94</td>
      <td>SpainSpainSpainSpainSpainSpainSpainSpainSpainS...</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>168.8</td>
      <td>375.2</td>
      <td>11896.74</td>
      <td>FranceFranceFranceFranceFranceFranceFranceFran...</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>172.6</td>
      <td>328.2</td>
      <td>11811.46</td>
      <td>United KingdomUnited KingdomUnited KingdomUnit...</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>98.0</td>
      <td>670.0</td>
      <td>211584.54</td>
      <td>IndiaIndiaIndiaIndiaIndiaIndiaIndiaIndiaIndiaI...</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>168.4</td>
      <td>249.8</td>
      <td>11454.44</td>
      <td>ItalyItalyItalyItalyItalyItalyItalyItalyItalyI...</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>176.6</td>
      <td>269.2</td>
      <td>25405.56</td>
      <td>JapanJapanJapanJapanJapanJapanJapanJapanJapanJ...</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>164.8</td>
      <td>293.4</td>
      <td>9353.32</td>
      <td>South KoreaSouth KoreaSouth KoreaSouth KoreaSo...</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>141.8</td>
      <td>542.8</td>
      <td>19725.10</td>
      <td>MexicoMexicoMexicoMexicoMexicoMexicoMexicoMexi...</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>146.6</td>
      <td>238.0</td>
      <td>29343.54</td>
      <td>RussiaRussiaRussiaRussiaRussiaRussiaRussiaRuss...</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>178.8</td>
      <td>406.0</td>
      <td>56296.82</td>
      <td>United StatesUnited StatesUnited StatesUnited ...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>More sensibly, we will most likely want to perform numerical operations on specific columns. We may want to <em>standardize</em> the values relative to a mean of 0 and standard deviation of 1, for instance.</p>
<div class="note docutils">
<p><strong>Standard scores</strong></p>
<p>If we have a sequence of values, we can calculate corresponding scores for that sequence by first subtracting the mean of the sequence, and second, dividing the result by the standard deviation of the original sequence.</p>
<p>The result is the <a class="reference external" href="https://en.wikipedia.org/wiki/Standard_score">standard score</a> of each element in the sequence.</p>
<p>The process of calculating standard scores can be called <em>standardization</em>.  Standard scores are sometimes called <em>z-scores</em>.</p>
</div>
<p>Pandas methods can be used to perform this computation, and again, the operation will be performed on each element in the <code class="docutils literal notranslate"><span class="pre">values</span></code> array of the specific Series/column that we grab.</p>
<p>For instance, to subtract the mean value from every element in the <code class="docutils literal notranslate"><span class="pre">.values</span></code> array we can use:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Subtract the mean from every element in the Series</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Population&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Population&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Code
AUS    -217.587467
BRA     -62.701667
CAN    -205.828067
CHN    1032.861233
DEU    -154.922667
ESP    -195.700167
FRA    -177.236167
GBR    -177.662567
IND     821.202833
ITA    -179.447667
JPN    -109.692067
KOR    -189.953267
MEX    -138.094367
RUS     -90.002167
USA      44.764233
Name: Population, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>We can perform the full z-score standardization using the code in the cell below. Note that <code class="docutils literal notranslate"><span class="pre">df['Population'].mean()</span></code> and <code class="docutils literal notranslate"><span class="pre">df['Population'].std()</span></code> both return single values. Each of these values is used in the same way on every element in the <code class="docutils literal notranslate"><span class="pre">Population</span></code> column:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Standardize the `Population` scores</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Population_z&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Population&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Population&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
                      <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Population&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
      <th>Population_z</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
      <td>-0.565922</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
      <td>-0.163080</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
      <td>-0.535337</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
      <td>2.686362</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
      <td>-0.402937</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>1.210</td>
      <td>41.0197</td>
      <td>Spain</td>
      <td>-0.508995</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
      <td>-0.460972</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
      <td>-0.462081</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
      <td>2.135861</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
      <td>-0.466724</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
      <td>-0.285297</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
      <td>-0.494048</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
      <td>-0.359169</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
      <td>-0.234086</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
      <td>0.116427</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Because this feature (numerical operations performed on each element) is shared across all Pandas Series, and we are using Pandas methods, we can write a function which will compute the z-scores for any column containing numerical data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define a function to calculate standard scores for a numeric Series.</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_standard</span><span class="p">(</span><span class="n">in_series</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Returns Series with standard score of each element of `in_series`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Formula for standard score.</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">in_series</span> <span class="o">-</span> <span class="n">in_series</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">in_series</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># test our function</span>
<span class="n">get_standard</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Human Development Index&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Code
AUS    0.849838
BRA   -0.966690
CAN    0.802034
CHN   -1.620003
DEU    0.802034
ESP    0.308066
FRA    0.435542
GBR    0.586919
IND   -2.384857
ITA    0.419607
JPN    0.746264
KOR    0.276197
MEX   -0.640034
RUS   -0.448820
USA    0.833903
Name: Human Development Index, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Again, each numerical operation that the function performs has been performed on every element of the <code class="docutils literal notranslate"><span class="pre">.values</span></code> array of the Data Frame column <code class="docutils literal notranslate"><span class="pre">Human</span> <span class="pre">Development</span> <span class="pre">Index</span></code>.</p>
<p>Let’s add these new standardized data to the Data Frame, and plot them using the now familiar <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add standard scores for HDI</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;HDI_z&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_standard</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Human Development Index&#39;</span><span class="p">])</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Fertility Rate</th>
      <th>Population</th>
      <th>Country Name</th>
      <th>Population_z</th>
      <th>HDI_z</th>
    </tr>
    <tr>
      <th>Code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>1.764</td>
      <td>19.1324</td>
      <td>Australia</td>
      <td>-0.565922</td>
      <td>0.849838</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>2.247</td>
      <td>174.0182</td>
      <td>Brazil</td>
      <td>-0.163080</td>
      <td>-0.966690</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>1.510</td>
      <td>30.8918</td>
      <td>Canada</td>
      <td>-0.535337</td>
      <td>0.802034</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>1.628</td>
      <td>1269.5811</td>
      <td>China</td>
      <td>2.686362</td>
      <td>-1.620003</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>1.386</td>
      <td>81.7972</td>
      <td>Germany</td>
      <td>-0.402937</td>
      <td>0.802034</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>1.210</td>
      <td>41.0197</td>
      <td>Spain</td>
      <td>-0.508995</td>
      <td>0.308066</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>1.876</td>
      <td>59.4837</td>
      <td>France</td>
      <td>-0.460972</td>
      <td>0.435542</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>1.641</td>
      <td>59.0573</td>
      <td>United Kingdom</td>
      <td>-0.462081</td>
      <td>0.586919</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>3.350</td>
      <td>1057.9227</td>
      <td>India</td>
      <td>2.135861</td>
      <td>-2.384857</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>1.249</td>
      <td>57.2722</td>
      <td>Italy</td>
      <td>-0.466724</td>
      <td>0.419607</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>1.346</td>
      <td>127.0278</td>
      <td>Japan</td>
      <td>-0.285297</td>
      <td>0.746264</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>1.467</td>
      <td>46.7666</td>
      <td>South Korea</td>
      <td>-0.494048</td>
      <td>0.276197</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>2.714</td>
      <td>98.6255</td>
      <td>Mexico</td>
      <td>-0.359169</td>
      <td>-0.640034</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>1.190</td>
      <td>146.7177</td>
      <td>Russia</td>
      <td>-0.234086</td>
      <td>-0.448820</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>2.030</td>
      <td>281.4841</td>
      <td>United States</td>
      <td>0.116427</td>
      <td>0.833903</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the standardized variables.</span>
<span class="c1"># Notice both range from negative to positive.</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Population_z&#39;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s1">&#39;HDI_z&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/6f13cb12cb69690504f9800c2304f6965d920fd4cebb0a10fda62eef2a94b8d8.png" src="_images/6f13cb12cb69690504f9800c2304f6965d920fd4cebb0a10fda62eef2a94b8d8.png" />
</div>
</div>
<p>We can see from this procedure that we have two bivariate outliers, with respect to <code class="docutils literal notranslate"><span class="pre">Population</span></code> and <code class="docutils literal notranslate"><span class="pre">HDI</span></code>, at the bottom right of the scatter plot.</p>
<p>This dataset is small enough that we can see that these values correspond to India and China…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Inspect the `Population_z` column to identify the outliers</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Population_z&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Code
AUS   -0.565922
CAN   -0.535337
ESP   -0.508995
KOR   -0.494048
ITA   -0.466724
GBR   -0.462081
FRA   -0.460972
DEU   -0.402937
MEX   -0.359169
JPN   -0.285297
RUS   -0.234086
BRA   -0.163080
USA    0.116427
IND    2.135861
CHN    2.686362
Name: Population_z, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>… but for a larger dataset we could find them using <a class="reference internal" href="0_5_filtering_data_with_pandas.html"><span class="doc std std-doc">Boolean filtering </span></a>.</p>
<div class="exercise dropdown admonition" id="getting-barred">

<p class="admonition-title"><span class="caption-number">Exercise 9 </span></p>
<section id="exercise-content">
<p>If you use <code class="docutils literal notranslate"><span class="pre">.plot(kind=&quot;bar&quot;)</span></code> you will generate a bar plot (that is, a chart with bars representing counts for different categories).</p>
<p>Your task is to use indexing methods of your choice, restricting yourself to the Pandas methods shown on this page, to create a bar plot which has:</p>
<ul class="simple">
<li><p>the name of each country on the x-axis</p></li>
</ul>
<p>…and…</p>
<ul class="simple">
<li><p>bars which show the population of the country on the y-axis. The bars should be ordered from highest population (left hand side of the graph) to lowest population (right hand side of the graph).</p></li>
</ul>
<p><em>Unless you enjoy cheating, do not use other plotting libraries!</em>. Your final result should look like this:</p>
<p><img alt="" src="_images/bar_example.png" /></p>
<p>As ever, use as few lines as you can, while but keep your code readable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Your code below</span>
</pre></div>
</div>
</div>
</div>
</section>
</div>
<div class="solution dropdown admonition" id="0_2_pandas_dataframes_attributes_methods-solution-9">

<p class="admonition-title">Solution to<a class="reference internal" href="#getting-barred"> Exercise 9</a></p>
<section id="solution-content">
<p>It is possible to create this plot in one line of code, again, by <em>chaining</em> Pandas methods together. First, we use direct indexing with the column names to select just those variables.</p>
<p>Then we use <code class="docutils literal notranslate"><span class="pre">sort_values()</span></code> using the <code class="docutils literal notranslate"><span class="pre">by='Population'</span></code> and <code class="docutils literal notranslate"><span class="pre">ascending=False</span></code> arguments to ensure that the population counts are sorted in descending order.</p>
<p>We then chain <code class="docutils literal notranslate"><span class="pre">.plot(kind='bar')</span></code> on the end, and we get the desired plot:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solution</span>
<span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Country Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Population&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Population&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;Code&#39;&gt;
</pre></div>
</div>
<img alt="_images/df77a05cc8b7b78c41ce286042ddf8ca1fa3c59d52441e146d6e8969cecc976b.png" src="_images/df77a05cc8b7b78c41ce286042ddf8ca1fa3c59d52441e146d6e8969cecc976b.png" />
</div>
</div>
<p><em>Food for thought</em>: what will happen if you reverse the order of <code class="docutils literal notranslate"><span class="pre">Country</span> <span class="pre">Name</span></code> and <code class="docutils literal notranslate"><span class="pre">Population</span></code> in the direct indexing operation? Do you think this will change the x-axis and and y-axis variables on the <code class="docutils literal notranslate"><span class="pre">.plot()</span></code>?</p>
<p>Have a think about what you think will happen; you can check by uncommenting the code below to see if you were correct:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># df[[&#39;Population&#39;, &#39;Country Name&#39;,]].sort_values(by=&#39;Population&#39;, ascending=False).plot(kind=&#39;bar&#39;)</span>
</pre></div>
</div>
</div>
</div>
<p>How would you explain the result?</p>
</section>
</div>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h2>
<p>On this page we have further explored the idea that Pandas Data Frames, Pandas
Series and Numpy arrays have a nested structure.</p>
<p>Data Frames are <em>dictionary-like collections of Series</em>. Series are a combination of a Numpy array (<code class="docutils literal notranslate"><span class="pre">.values</span></code>) with other attributes (<code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">index</span></code>). As a result, many methods we can use on a Series are similar to those available from Numpy arrays, and many Data Frame methods likewise parallel those from the Pandas Series that constitute the Data Frame.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="0_1_to_loc_or_iloc.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Indexing by label, indexing by position</p>
      </div>
    </a>
    <a class="right-next"
       href="0_3_constructing_dataframes.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Let There Be Data : Creating Data Frames</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-pandas-from-numpy">More Pandas from Numpy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#statistical-attributes-of-numpy-arrays">Statistical Attributes of Numpy arrays</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-series-attributes-and-methods">Pandas Series attributes and methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-data-frame-attributes">Pandas Data Frame attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-data-frame-methods">Pandas Data Frame methods</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#methods-for-getting-subsets-of-data-from-a-data-frame">Methods for getting subsets of data from a Data Frame</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-methods">Plotting Methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-note-on-numerical-operations">A note on numerical operations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Peter Rush, Matthew Brett
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>