
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>.loc and .iloc indexing &#8212; Pandas from Numpy</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '0_1_to_loc_or_iloc';</script>
    <link rel="canonical" href="https://ASPP_pandas_tutorials.github.io/pandas_from_numpy/0_1_to_loc_or_iloc.html" />
    <link rel="icon" href="_static/pandas_numpy.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Pandas DataFrames: Attributes and Methods" href="0_2_pandas_dataframes_attributes_methods.html" />
    <link rel="prev" title="Pandas from Numpy" href="0_0_pandas_intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/pandas_numpy.jpg" class="logo__image only-light" alt="Pandas from Numpy - Home"/>
    <script>document.write(`<img src="_static/pandas_numpy.jpg" class="logo__image only-dark" alt="Pandas from Numpy - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Pandas from Numpy</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="0_0_pandas_intro.html">Pandas from Numpy</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">.loc</span></code> and <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> indexing</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_2_pandas_dataframes_attributes_methods.html">Pandas DataFrames: Attributes and Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_3_constructing_dataframes.html">Let There Be Data : Creating Data Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_4_dealing_with_missing_data_in_pandas.html">Dealing with NaNs</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_5_filtering_data_with_pandas.html">Filtering Data Frames with Boolean Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_6_more_pandas_methods_strings.html">More Pandas methods</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="interact/lab/index.html?path=0_1_to_loc_or_iloc.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch via JupyterLite"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="JupyterLite logo" src="_static/images/logo_jupyterlite.svg">
  </span>
<span class="btn__text-container">JupyterLite</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ASPP_pandas_tutorials/pandas_from_numpy" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ASPP_pandas_tutorials/pandas_from_numpy/edit/main/0_1_to_loc_or_iloc.Rmd" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ASPP_pandas_tutorials/pandas_from_numpy/issues/new?title=Issue%20on%20page%20%2F0_1_to_loc_or_iloc.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/0_1_to_loc_or_iloc.Rmd" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.Rmd</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>.loc and .iloc indexing</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-s-in-a-name">What’s in a <code class="docutils literal notranslate"><span class="pre">name</span></code>?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-s-in-an-index">What’s in an <code class="docutils literal notranslate"><span class="pre">index</span></code>?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-the-default-index-can-be-confusing">Why the “default” index can be confusing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#strange-and-nameless-data-frame-columns">Strange and <code class="docutils literal notranslate"><span class="pre">name</span></code>less Data Frame columns</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="loc-and-iloc-indexing">
<h1><code class="docutils literal notranslate"><span class="pre">.loc</span></code> and <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> indexing<a class="headerlink" href="#loc-and-iloc-indexing" title="Link to this heading">#</a></h1>
<p>From the <a class="reference internal" href="0_0_pandas_intro.html#what-is-a-series"><span class="std std-ref">What is a Series section</span></a>, remember our maxim:</p>
<blockquote>
<div><p>A <em>Series</em> is the association of:</p>
<ul class="simple">
<li><p>An array of values (<code class="docutils literal notranslate"><span class="pre">.values</span></code>)</p></li>
<li><p>A sequence of labels for each value (<code class="docutils literal notranslate"><span class="pre">.index</span></code>)</p></li>
<li><p>A name (which can be <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p></li>
</ul>
</div></blockquote>
<p>On this page we will examine differences between Data Frame attributes. We
will demonstrate that the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute is optional. The default <code class="docutils literal notranslate"><span class="pre">name</span></code> is
<code class="docutils literal notranslate"><span class="pre">None</span></code> and the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute can be left unspecified in any given Series
with minimal consequences. We will show, however, that it is important to
specify the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute as a column name when a Series is part of
a Pandas Data Frame.</p>
<p>In contrast, an <code class="docutils literal notranslate"><span class="pre">index</span></code> is essential - if no <code class="docutils literal notranslate"><span class="pre">index</span></code> is specified then Pandas will create one. However, we will show that it is sensible to replace Pandas’ default index with a custom index, to avoid accidental errors when indexing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import libraries</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<section id="what-s-in-a-name">
<h2>What’s in a <code class="docutils literal notranslate"><span class="pre">name</span></code>?<a class="headerlink" href="#what-s-in-a-name" title="Link to this heading">#</a></h2>
<p>To consider the difference in importance/default behaviour between the <code class="docutils literal notranslate"><span class="pre">name</span></code>
attribute and the <code class="docutils literal notranslate"><span class="pre">index</span></code> attribute, let’s again build a Pandas Series from
component parts, using Numpy arrays. We’ll use the <a class="reference internal" href="data/data_notes.html"><span class="doc std std-doc">fertility and Human
Development Index data once more</span></a>.</p>
<p>First, an array containing the three-letter codes for each country:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># three letter codes for each country</span>
<span class="n">country_codes_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;AUS&#39;</span><span class="p">,</span> <span class="s1">&#39;BRA&#39;</span><span class="p">,</span> <span class="s1">&#39;CAN&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;CHN&#39;</span><span class="p">,</span> <span class="s1">&#39;DEU&#39;</span><span class="p">,</span> <span class="s1">&#39;ESP&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;FRA&#39;</span><span class="p">,</span> <span class="s1">&#39;GBR&#39;</span><span class="p">,</span> <span class="s1">&#39;IND&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;ITA&#39;</span><span class="p">,</span> <span class="s1">&#39;JPN&#39;</span><span class="p">,</span> <span class="s1">&#39;KOR&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;MEX&#39;</span><span class="p">,</span> <span class="s1">&#39;RUS&#39;</span><span class="p">,</span> <span class="s1">&#39;USA&#39;</span><span class="p">])</span>
<span class="n">country_codes_array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;AUS&#39;, &#39;BRA&#39;, &#39;CAN&#39;, &#39;CHN&#39;, &#39;DEU&#39;, &#39;ESP&#39;, &#39;FRA&#39;, &#39;GBR&#39;, &#39;IND&#39;,
       &#39;ITA&#39;, &#39;JPN&#39;, &#39;KOR&#39;, &#39;MEX&#39;, &#39;RUS&#39;, &#39;USA&#39;], dtype=&#39;&lt;U3&#39;)
</pre></div>
</div>
</div>
</div>
<p>Second, an array containing the Human Development Index (HDI) scores for each country:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Human Development Index Scores for each country</span>
<span class="n">hdis_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.896</span><span class="p">,</span> <span class="mf">0.668</span><span class="p">,</span> <span class="mf">0.89</span><span class="p">,</span>
                       <span class="mf">0.586</span><span class="p">,</span> <span class="mf">0.89</span><span class="p">,</span>  <span class="mf">0.828</span><span class="p">,</span>
                       <span class="mf">0.844</span><span class="p">,</span> <span class="mf">0.863</span><span class="p">,</span> <span class="mf">0.49</span><span class="p">,</span>
                       <span class="mf">0.842</span><span class="p">,</span> <span class="mf">0.883</span><span class="p">,</span> <span class="mf">0.824</span><span class="p">,</span>
                       <span class="mf">0.709</span><span class="p">,</span> <span class="mf">0.733</span><span class="p">,</span> <span class="mf">0.894</span><span class="p">])</span>
<span class="n">hdis_array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.896, 0.668, 0.89 , 0.586, 0.89 , 0.828, 0.844, 0.863, 0.49 ,
       0.842, 0.883, 0.824, 0.709, 0.733, 0.894])
</pre></div>
</div>
</div>
</div>
<p>We can make a Series using the <code class="docutils literal notranslate"><span class="pre">pd.Series()</span></code> constructor. Our <code class="docutils literal notranslate"><span class="pre">.values</span></code> array is the HDI scores, and the <code class="docutils literal notranslate"><span class="pre">index</span></code> is the three-letter country codes. As we have seen previously, we specify the <code class="docutils literal notranslate"><span class="pre">index</span></code> using the <code class="docutils literal notranslate"><span class="pre">index=</span></code> argument.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># make a series from the `hdis` array</span>
<span class="n">hdi_series</span> <span class="o">=</span>  <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">hdis_array</span><span class="p">,</span> 
                        <span class="n">index</span><span class="o">=</span><span class="n">country_codes_array</span><span class="p">)</span>
<span class="n">hdi_series</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AUS    0.896
BRA    0.668
CAN    0.890
CHN    0.586
DEU    0.890
ESP    0.828
FRA    0.844
GBR    0.863
IND    0.490
ITA    0.842
JPN    0.883
KOR    0.824
MEX    0.709
RUS    0.733
USA    0.894
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Currently, our Series has data (<code class="docutils literal notranslate"><span class="pre">values</span></code>) and an <code class="docutils literal notranslate"><span class="pre">index</span></code>, but no <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># show the `values`</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.896, 0.668, 0.89 , 0.586, 0.89 , 0.828, 0.844, 0.863, 0.49 ,
       0.842, 0.883, 0.824, 0.709, 0.733, 0.894])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># show the `index`</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;AUS&#39;, &#39;BRA&#39;, &#39;CAN&#39;, &#39;CHN&#39;, &#39;DEU&#39;, &#39;ESP&#39;, &#39;FRA&#39;, &#39;GBR&#39;, &#39;IND&#39;, &#39;ITA&#39;,
       &#39;JPN&#39;, &#39;KOR&#39;, &#39;MEX&#39;, &#39;RUS&#39;, &#39;USA&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># show that `name` is None (e.g. does not exist - this cell will produce no output)</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># show that `name` is None (e.g. does not exist)</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute is optional when considering Series which are not part of Data Frames. If we do not specify a <code class="docutils literal notranslate"><span class="pre">name</span></code>, Pandas will set <code class="docutils literal notranslate"><span class="pre">name</span></code> to be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>However, the name attribute can be useful for tracking what data is inside the <code class="docutils literal notranslate"><span class="pre">values</span></code> array.</p>
<p>Let’s make a new Series - called <code class="docutils literal notranslate"><span class="pre">hdi_series_with_name_and_index</span></code> - where we <strong>do</strong> specify a <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute when calling the <code class="docutils literal notranslate"><span class="pre">pd.Series()</span></code> constructor.</p>
<p>To specify the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute we use the <code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">=</span> </code> argument inside the <code class="docutils literal notranslate"><span class="pre">pd.DataFrame()</span></code> constructor:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a series from the `hdis` array, specifying the `name` attribute.</span>
<span class="n">hdi_series_with_name_and_index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">hdis_array</span><span class="p">,</span>
                                           <span class="n">index</span><span class="o">=</span><span class="n">country_codes_array</span><span class="p">,</span>
                                           <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Human Development Index&#39;</span><span class="p">)</span>
<span class="n">hdi_series_with_name_and_index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AUS    0.896
BRA    0.668
CAN    0.890
CHN    0.586
DEU    0.890
ESP    0.828
FRA    0.844
GBR    0.863
IND    0.490
ITA    0.842
JPN    0.883
KOR    0.824
MEX    0.709
RUS    0.733
USA    0.894
Name: Human Development Index, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Now, <code class="docutils literal notranslate"><span class="pre">name</span></code> is no longer equal to <code class="docutils literal notranslate"><span class="pre">None</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the `name` attribute</span>
<span class="n">hdi_series_with_name_and_index</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Human Development Index&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># `name` is not None</span>
<span class="n">hdi_series_with_name_and_index</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
</section>
<section id="what-s-in-an-index">
<h2>What’s in an <code class="docutils literal notranslate"><span class="pre">index</span></code>?<a class="headerlink" href="#what-s-in-an-index" title="Link to this heading">#</a></h2>
<p>So far so good, we have seen what happens if we make a Series with no <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute. But what if we make a Series without specifying an <code class="docutils literal notranslate"><span class="pre">index</span></code>?</p>
<p>To do this, we simply call the <code class="docutils literal notranslate"><span class="pre">pd.Series()</span></code> constructor without using the <code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">=</span> </code> argument:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># make a series from the `hdis` array, with no `name` and no `index` specified</span>
<span class="n">hdi_series_no_name_no_index</span> <span class="o">=</span>  <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">hdis_array</span><span class="p">)</span>
<span class="n">hdi_series_no_name_no_index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     0.896
1     0.668
2     0.890
3     0.586
4     0.890
5     0.828
6     0.844
7     0.863
8     0.490
9     0.842
10    0.883
11    0.824
12    0.709
13    0.733
14    0.894
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Here, you can see that while we did not specify an <code class="docutils literal notranslate"><span class="pre">index</span></code> Pandas has automatically generated an one:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># view the new Series</span>
<span class="n">hdi_series_no_name_no_index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     0.896
1     0.668
2     0.890
3     0.586
4     0.890
5     0.828
6     0.844
7     0.863
8     0.490
9     0.842
10    0.883
11    0.824
12    0.709
13    0.733
14    0.894
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Let’s take a closer look at this <code class="docutils literal notranslate"><span class="pre">index</span></code> by directly accessing the <code class="docutils literal notranslate"><span class="pre">.index</span></code>
attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The default Pandas index</span>
<span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=15, step=1)
</pre></div>
</div>
</div>
</div>
<p>Hmm, it is quite strange-looking relative to the index of country codes (which
visually resembles a numpy array). Let’s use to the <code class="docutils literal notranslate"><span class="pre">type()</span></code> function to
investigate further:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># so the type of the default index</span>
<span class="nb">type</span><span class="p">(</span><span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.indexes.range.RangeIndex
</pre></div>
</div>
</div>
</div>
<p>Ok, so for this Series - where we did not specify an <code class="docutils literal notranslate"><span class="pre">index</span></code> - the index that Pandas has created is a <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> object. This is, in fact, the default Pandas index that will be attached to a Series where no other index is specified.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> looks like a sequence of numbers (and in a sense it is) - but it behaves differently to python list and arrays with regards to indexing.</p>
<p>Let’s take a look at the shape of the <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> and what is in it. To view the shape, we can use the <code class="docutils literal notranslate"><span class="pre">np.shape()</span></code> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># take a closer look at the &quot;default&quot; index</span>
<span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(15,)
</pre></div>
</div>
</div>
</div>
<p>Ok, so the index has 15 elements. Let’s view the first one, using direct indexing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># view the first element of the RangeIndex</span>
<span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<p>Again, so far, so good. Now let’s view the second element:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># view the second element of the RangeIndex</span>
<span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<p>Previously, we used three-letter country codes as the index elements (these were strings).</p>
<p>Let’s have a look at the <code class="docutils literal notranslate"><span class="pre">type()</span></code> of the numbers in the <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># what type are the elements of the range index?</span>
<span class="nb">type</span><span class="p">(</span><span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>int
</pre></div>
</div>
</div>
</div>
<p>You might be fooled here into thinking that the <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> behaves like a python list. If we try to use slicing, we will see this is not the case:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># slice the RangeIndex</span>
<span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=14, step=1)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># slice the RangeIndex</span>
<span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=4, step=1)
</pre></div>
</div>
</div>
</div>
<p>This might seem like pretty weird behaviour. This is because the <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> behaves similarly to the in-built python <code class="docutils literal notranslate"><span class="pre">range()</span></code> function, rather than as a list or numpy array (e.g. we cannot slice it using the familiar <code class="docutils literal notranslate"><span class="pre">start:stop</span></code> syntax).</p>
<p>To view all the values inside the <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> we can loop over it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># loop over the index</span>
<span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></div>
</div>
</div>
</div>
<p>Or show the values together by converting the index to a python list, using the <code class="docutils literal notranslate"><span class="pre">list()</span></code> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># show the elements in the RangeIndex using list()</span>
<span class="nb">list</span><span class="p">(</span><span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
</pre></div>
</div>
</div>
</div>
</section>
<section id="why-the-default-index-can-be-confusing">
<h2>Why the “default” index can be confusing<a class="headerlink" href="#why-the-default-index-can-be-confusing" title="Link to this heading">#</a></h2>
<p>To recap: we’ve used three-letter country codes as the elements of an <code class="docutils literal notranslate"><span class="pre">index</span></code>, and we’ve just seen what happens if we construct a Data Frame without telling Pandas what to use as an <code class="docutils literal notranslate"><span class="pre">index</span></code> - it will create a default <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code>.</p>
<p>What is the advantage of using a non-default index? Below are some potential pitfalls to be aware of when using the default index.</p>
<p>Let’s say we want to access the fifth element of the Series. This is at integer location 4, because we count from 0. At the moment the numerical labels from <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> “line up” with the integer-based locations:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># show the whole Series</span>
<span class="n">hdi_series_no_name_no_index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     0.896
1     0.668
2     0.890
3     0.586
4     0.890
5     0.828
6     0.844
7     0.863
8     0.490
9     0.842
10    0.883
11    0.824
12    0.709
13    0.733
14    0.894
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>If we use integer indexing (<code class="docutils literal notranslate"><span class="pre">.iloc</span></code>) we get the same value as if we use label based indexing (<code class="docutils literal notranslate"><span class="pre">.loc</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># indexing using integer location</span>
<span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.89)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="c1"># indexing using labels (from the default index)</span>
<span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.89)
</pre></div>
</div>
</div>
</div>
<p>What if we don’t tell pandas what type of indexing we want to do? E.g. we do not use <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> or <code class="docutils literal notranslate"><span class="pre">.loc</span></code>, we just use the sort of direct indexing we would use on a python list?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># direct indexing</span>
<span class="n">hdi_series_no_name_no_index</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.89)
</pre></div>
</div>
</div>
</div>
<p>All of these methods, presently, have returned the same value.</p>
<p><strong>But  this will not always be the case.</strong> Certain functions and methods that we may want to use to sort and organise our data will cause cause misalignment between the <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> and the integer location of a given element of the Series.</p>
<p>For instance let’s sort the data in our <code class="docutils literal notranslate"><span class="pre">hdi_series_no_name_no_index</span></code> Series in ascending order.  To do this we will use the <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code> method. We will cover Pandas methods in detail on <a class="reference internal" href="0_2_pandas_dataframes_attributes_methods.html"><span class="std std-doc">later pages</span></a>  but for now the <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code> method just as what it says on the tin it sorts the elements of the Series in ascending order, based on the elements in the <code class="docutils literal notranslate"><span class="pre">.values</span></code> attribute of the Series:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sorting the values in ascending order</span>
<span class="n">hdi_series_no_name_no_index_sorted</span> <span class="o">=</span> <span class="n">hdi_series_no_name_no_index</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>

<span class="n">hdi_series_no_name_no_index_sorted</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8     0.490
3     0.586
1     0.668
12    0.709
13    0.733
11    0.824
5     0.828
9     0.842
6     0.844
7     0.863
10    0.883
2     0.890
4     0.890
14    0.894
0     0.896
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Look at the left hand side of the print out from the cell above e.g. look at the <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code>.  The numbers within the <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> no longer run sequentially from 0 to 14. This means that the integer location of each element in the Series no longer matches up with the index label. This can potentially be a source of errors.</p>
<p>Let’s see what happens if we try to access the fifth element of the series using integer based indexing (<code class="docutils literal notranslate"><span class="pre">.iloc[4]</span></code>) location based indexing (<code class="docutils literal notranslate"><span class="pre">.loc[4]</span></code>) and direct indexing (<code class="docutils literal notranslate"><span class="pre">[4]</span></code>) as we did above.</p>
<p>When we did this on the unsorted data all these methods returned the same value:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># integer indexing on the sorted data</span>
<span class="n">hdi_series_no_name_no_index_sorted</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.733)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># label indexing on the sorted data</span>
<span class="n">hdi_series_no_name_no_index_sorted</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.89)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># direct indexing on the sorted data</span>
<span class="n">hdi_series_no_name_no_index_sorted</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.89)
</pre></div>
</div>
</div>
</div>
<p>Oh dear,  we have used the number 4 with each indexing method, yet have gotten back different values.</p>
<p>This is a pitfall of using the default <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> - it can lead to confusing results when the integer-based location and the <code class="docutils literal notranslate"><span class="pre">int</span></code> label of an element of the Series do not match up.</p>
<p>Compare this to our <code class="docutils literal notranslate"><span class="pre">hdi_series_with_name_and_index</span></code> which uses the three-letter country codes as it’s index:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># show the `hdi_series_with_name_and_index` Series</span>
<span class="n">hdi_series_with_name_and_index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AUS    0.896
BRA    0.668
CAN    0.890
CHN    0.586
DEU    0.890
ESP    0.828
FRA    0.844
GBR    0.863
IND    0.490
ITA    0.842
JPN    0.883
KOR    0.824
MEX    0.709
RUS    0.733
USA    0.894
Name: Human Development Index, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Let’s get the Fifth Element using integer based (<code class="docutils literal notranslate"><span class="pre">.iloc</span></code>) indexing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># integer indexing</span>
<span class="n">hdi_series_with_name_and_index</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.89)
</pre></div>
</div>
</div>
</div>
<p>…and let’s try to use <code class="docutils literal notranslate"><span class="pre">.loc[4]</span></code> on this Series (this will generate an error):</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># label indexing raises a KeyError ...</span>
<span class="n">hdi_series_with_name_and_index</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/core/indexes/base.py:3812,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3811</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3812</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3813</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File pandas/_libs/index.pyx:167,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/index.pyx:196,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7088,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7096,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: 4

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">34</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># label indexing raises a KeyError ...</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">hdi_series_with_name_and_index</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/core/indexing.py:1191,</span> in <span class="ni">_LocationIndexer.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">1189</span> <span class="n">maybe_callable</span> <span class="o">=</span> <span class="n">com</span><span class="o">.</span><span class="n">apply_if_callable</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1190</span> <span class="n">maybe_callable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_deprecated_callable_usage</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">maybe_callable</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1191</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_axis</span><span class="p">(</span><span class="n">maybe_callable</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/core/indexing.py:1431,</span> in <span class="ni">_LocIndexer._getitem_axis</span><span class="nt">(self, key, axis)</span>
<span class="g g-Whitespace">   </span><span class="mi">1429</span> <span class="c1"># fall thru to straight lookup</span>
<span class="g g-Whitespace">   </span><span class="mi">1430</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1431</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_label</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/core/indexing.py:1381,</span> in <span class="ni">_LocIndexer._get_label</span><span class="nt">(self, label, axis)</span>
<span class="g g-Whitespace">   </span><span class="mi">1379</span> <span class="k">def</span><span class="w"> </span><span class="nf">_get_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">axis</span><span class="p">:</span> <span class="n">AxisInt</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1380</span>     <span class="c1"># GH#5567 this will fail if the label is not present in the axis.</span>
<span class="ne">-&gt; </span><span class="mi">1381</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/core/generic.py:4320,</span> in <span class="ni">NDFrame.xs</span><span class="nt">(self, key, axis, level, drop_level)</span>
<span class="g g-Whitespace">   </span><span class="mi">4318</span>             <span class="n">new_index</span> <span class="o">=</span> <span class="n">index</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">4319</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">4320</span>     <span class="n">loc</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">4322</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">loc</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">4323</span>         <span class="k">if</span> <span class="n">loc</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">bool_</span><span class="p">:</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/core/indexes/base.py:3819,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3814</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">casted_key</span><span class="p">,</span> <span class="nb">slice</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">3815</span>         <span class="nb">isinstance</span><span class="p">(</span><span class="n">casted_key</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">Iterable</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3816</span>         <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">slice</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3817</span>     <span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3818</span>         <span class="k">raise</span> <span class="n">InvalidIndexError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3819</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3820</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3821</span>     <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3822</span>     <span class="c1">#  InvalidIndexError. Otherwise we fall through and re-raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3823</span>     <span class="c1">#  the TypeError.</span>
<span class="g g-Whitespace">   </span><span class="mi">3824</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_check_indexing_error</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="ne">KeyError</span>: 4
</pre></div>
</div>
</div>
</div>
<p>This <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> tells us that there is no index label <code class="docutils literal notranslate"><span class="pre">4</span></code> (which makes sense as the index labels in this Series are three-letter country codes). To use <code class="docutils literal notranslate"><span class="pre">.loc</span></code> with this Series, we must use the three-letter country code strings:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># label based indexing</span>
<span class="n">hdi_series_with_name_and_index</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;DEU&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.89)
</pre></div>
</div>
</div>
</div>
<p>Direct indexing here will assume we mean <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> integer-based indexing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># direct indexing</span>
<span class="n">hdi_series_with_name_and_index</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_2459/1692167703.py:2: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  hdi_series_with_name_and_index[4]
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.89)
</pre></div>
</div>
</div>
</div>
<p>Using a custom index (e.g. the three-letter country codes) rather than the default <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> has the advantage of avoiding potential confusion between the integer location of a datapoint, and the index label of that datapoint.</p>
<p>To demonstrate this, let’s sort our <code class="docutils literal notranslate"><span class="pre">hdi_series_with_name_and_index</span></code> in ascending order:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sorting the Series in ascending order</span>
<span class="n">hdi_series_with_name_and_index_sorted</span> <span class="o">=</span> <span class="n">hdi_series_with_name_and_index</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>

<span class="n">hdi_series_with_name_and_index_sorted</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>IND    0.490
CHN    0.586
BRA    0.668
MEX    0.709
RUS    0.733
KOR    0.824
ESP    0.828
ITA    0.842
FRA    0.844
GBR    0.863
JPN    0.883
CAN    0.890
DEU    0.890
USA    0.894
AUS    0.896
Name: Human Development Index, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>The use of custom string-based labels in the index (e.g. <code class="docutils literal notranslate"><span class="pre">FRA</span></code>, <code class="docutils literal notranslate"><span class="pre">AUS</span></code> etc)  and say confusing misalignment between <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> numerical labels and integer location.</p>
<p>Now, if we index using a number, this means <em>integer indexing</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># index using `.iloc`</span>
<span class="n">hdi_series_with_name_and_index_sorted</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.733)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># index using direct indexing.</span>
<span class="c1"># Currently this generates a warning.  In the future it will be an error.</span>
<span class="n">hdi_series_with_name_and_index_sorted</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_2459/1541050731.py:3: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  hdi_series_with_name_and_index_sorted[4]
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.733)
</pre></div>
</div>
</div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">.loc</span></code> means we have to use a string, preventing errors where we use a number and return data we do not expect.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># label-based indexing</span>
<span class="n">hdi_series_with_name_and_index_sorted</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;DEU&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.89)
</pre></div>
</div>
</div>
</div>
<p>However, a good additional maxim is: <strong>use <code class="docutils literal notranslate"><span class="pre">.loc</span></code> and <code class="docutils literal notranslate"><span class="pre">iloc</span></code> unless there is a good reason not to!</strong>.</p>
<p>If you use direct indexing, e.g. <code class="docutils literal notranslate"><span class="pre">[4]</span></code> without using <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> or <code class="docutils literal notranslate"><span class="pre">.loc</span></code>, then Pandas assumes you want to use integer indexing.  if this is the case it is better to be explicit and use the <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> method <em>especially if the Series has a <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> with numeric labels</em>.</p>
</section>
<section id="strange-and-nameless-data-frame-columns">
<h2>Strange and <code class="docutils literal notranslate"><span class="pre">name</span></code>less Data Frame columns<a class="headerlink" href="#strange-and-nameless-data-frame-columns" title="Link to this heading">#</a></h2>
<p>When we include Series as columns in Data Frames - remember, that a Data Frame is just a dictionary-like collection of Series - it becomes eminently sensible to specify a <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute for each Series.</p>
<p>Pandas will not <em>force</em> us to do this, but it leads to some error-prone consequences if we do not. In fact, the <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> crops up again here, and can create confusion in similar ways to the ones we have seen in the last section.</p>
<p>As shown above, our <code class="docutils literal notranslate"><span class="pre">hdi_series</span></code> does not have a <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute. Let’s pass this Series to the <code class="docutils literal notranslate"><span class="pre">pd.DataFrame()</span></code> constructor, to see the consequence of a <code class="docutils literal notranslate"><span class="pre">name</span></code>less Series in this context. We will call the resulting Data Frame <code class="docutils literal notranslate"><span class="pre">no_name_df</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># verify again that the `hdi_series` has no `name` attribute</span>
<span class="n">hdi_series</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># a Data Frame made of a Series with no `name` attribute</span>
<span class="n">no_name_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">hdi_series</span><span class="p">)</span>

<span class="n">no_name_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Ok, so in the absence of a <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute Pandas has labelled the column with a <code class="docutils literal notranslate"><span class="pre">0</span></code>. If we inspect more deeply, we find that actually Pandas, in the absence of being instructed otherwise, has created a <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code>, but this time for the <code class="docutils literal notranslate"><span class="pre">columns</span></code> (e.g. the column names) of the Data Frame. If you look at the Data Frame above, you can see that the <code class="docutils literal notranslate"><span class="pre">index</span></code> attribute is the three-letter country codes. However, the <code class="docutils literal notranslate"><span class="pre">.columns</span></code> are a <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># look at the column names via the `.columns` attribute</span>
<span class="n">no_name_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=1, step=1)
</pre></div>
</div>
</div>
</div>
<p>Sure enough, if we check the <code class="docutils literal notranslate"><span class="pre">type</span></code> of the fist element in this <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> it is a of a numeric type - e.g. we can think of it not as a column <em>name</em> but a number standing in for a column name:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># check the type of the first element in the `.columns` attribute</span>
<span class="nb">type</span><span class="p">(</span><span class="n">no_name_df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>int
</pre></div>
</div>
</div>
</div>
<p>It may be obvious why this naming convention for Data Frame columns can lead to errors for reasons of low interpretability. We typically want our column names to be descriptive of the data in the column, to ourselves and to other people reading our code. If we do not specify a <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute for our Series when creating Data Frames, the default numerical column names supplied by Pandas are hard to interpret, and it is easy to misinterpret, or to forget what data is in that column, leading to human errors.</p>
<p>They can also lead to indexing errors, similar to those we saw in the previous section. To demonstrate this, let’s compare the <code class="docutils literal notranslate"><span class="pre">name</span></code>less Data Frame above to a Data Frame created from a Series with a <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p>Our aptly named <code class="docutils literal notranslate"><span class="pre">hdi_series_with_name_and_index</span></code> has a <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute - (look at the last line of the output from the cell below, the <code class="docutils literal notranslate"><span class="pre">Name:</span> <span class="pre">Human</span> <span class="pre">Development</span> <span class="pre">Index</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># a Series with a `name`</span>
<span class="n">hdi_series_with_name_and_index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AUS    0.896
BRA    0.668
CAN    0.890
CHN    0.586
DEU    0.890
ESP    0.828
FRA    0.844
GBR    0.863
IND    0.490
ITA    0.842
JPN    0.883
KOR    0.824
MEX    0.709
RUS    0.733
USA    0.894
Name: Human Development Index, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Let’s call the <code class="docutils literal notranslate"><span class="pre">pd.DataFrame()</span></code> constructor on this Series - we’ll call the resultant Data Frame <code class="docutils literal notranslate"><span class="pre">named_df</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a new Data Frame, with a sensible name for the column</span>
<span class="n">named_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">hdi_series_with_name_and_index</span><span class="p">)</span>

<span class="n">named_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We see that Pandas has automatically used the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute as the column name, hugely increasing the interpretability of the resulting Data Frame.</p>
<p>We can see the <code class="docutils literal notranslate"><span class="pre">name</span></code> in the <code class="docutils literal notranslate"><span class="pre">.columns</span></code> attribute of the new  <code class="docutils literal notranslate"><span class="pre">named_df</span></code> Data Frame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># show the column names from the `named_df` Data Frame</span>
<span class="n">named_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Human Development Index&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Now, let’s try using direct indexing with each Data Frame, using the column names.</p>
<p>This is very straightforward for the <code class="docutils literal notranslate"><span class="pre">named_df</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># direct indexing to retrieve a column by name</span>
<span class="n">named_df</span><span class="p">[</span><span class="s1">&#39;Human Development Index&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AUS    0.896
BRA    0.668
CAN    0.890
CHN    0.586
DEU    0.890
ESP    0.828
FRA    0.844
GBR    0.863
IND    0.490
ITA    0.842
JPN    0.883
KOR    0.824
MEX    0.709
RUS    0.733
USA    0.894
Name: Human Development Index, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>What about for <code class="docutils literal notranslate"><span class="pre">no_name_df</span></code>? Well, the column name there is <code class="docutils literal notranslate"><span class="pre">0</span></code>, of <code class="docutils literal notranslate"><span class="pre">int</span></code> type.</p>
<p>What happens if use direct indexing? We are hoping we see something like the output of the cell above, albeit with a <code class="docutils literal notranslate"><span class="pre">0</span></code> for the <code class="docutils literal notranslate"><span class="pre">name</span></code>, rather than <code class="docutils literal notranslate"><span class="pre">Human</span> <span class="pre">Development</span> <span class="pre">Index</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># direct indexing with no `name` attribute</span>
<span class="n">no_name_df</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AUS    0.896
BRA    0.668
CAN    0.890
CHN    0.586
DEU    0.890
ESP    0.828
FRA    0.844
GBR    0.863
IND    0.490
ITA    0.842
JPN    0.883
KOR    0.824
MEX    0.709
RUS    0.733
USA    0.894
Name: 0, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Sure enough that is what we see. But the operation we have used looks very much like <em>integer</em> indexing on a Series, which will return a single value:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># integer indexing a Series (without using `.iloc`)</span>
<span class="n">hdi_series</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_2459/2632670009.py:2: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  hdi_series[0]
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.896)
</pre></div>
</div>
</div>
</div>
<p>This can be confusing.</p>
<p>In addition, the numerical label can also be confusing if we introduce more columns, especially if we mix in columns which do have <code class="docutils literal notranslate"><span class="pre">name</span></code> attributes that we specify.</p>
<p>For instance, if we add in the full name of each country:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># country names array</span>
<span class="n">country_names_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;Australia&#39;</span><span class="p">,</span> <span class="s1">&#39;Brazil&#39;</span><span class="p">,</span> <span class="s1">&#39;Canada&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;China&#39;</span><span class="p">,</span> <span class="s1">&#39;Germany&#39;</span><span class="p">,</span> <span class="s1">&#39;Spain&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;France&#39;</span><span class="p">,</span> <span class="s1">&#39;United Kingdom&#39;</span><span class="p">,</span> <span class="s1">&#39;India&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;Italy&#39;</span><span class="p">,</span> <span class="s1">&#39;Japan&#39;</span><span class="p">,</span> <span class="s1">&#39;South Korea&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;Mexico&#39;</span><span class="p">,</span> <span class="s1">&#39;Russia&#39;</span><span class="p">,</span> <span class="s1">&#39;United States&#39;</span><span class="p">])</span>
<span class="n">country_names_array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;Australia&#39;, &#39;Brazil&#39;, &#39;Canada&#39;, &#39;China&#39;, &#39;Germany&#39;, &#39;Spain&#39;,
       &#39;France&#39;, &#39;United Kingdom&#39;, &#39;India&#39;, &#39;Italy&#39;, &#39;Japan&#39;,
       &#39;South Korea&#39;, &#39;Mexico&#39;, &#39;Russia&#39;, &#39;United States&#39;], dtype=&#39;&lt;U14&#39;)
</pre></div>
</div>
</div>
</div>
<p>Let’s add this into the <code class="docutils literal notranslate"><span class="pre">no_name_df</span></code>, using the <code class="docutils literal notranslate"><span class="pre">name</span></code> “Country Names”:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">no_name_df</span><span class="p">[</span><span class="s1">&#39;Country Names&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">country_names_array</span>

<span class="n">no_name_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>Country Names</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>China</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>Spain</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>France</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>India</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>United States</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We now have one column that has an <code class="docutils literal notranslate"><span class="pre">int</span></code> as it’s column name, and another with a string.</p>
<p>In the same way as for a numerical <code class="docutils literal notranslate"><span class="pre">index</span></code>, this situation can become confusing if the numerical labels become misaligned with their integer location in the <code class="docutils literal notranslate"><span class="pre">.columns</span></code> attribute.</p>
<p>For instance, if we re-arrange the columns:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># re-arrange the columns</span>
<span class="n">no_name_df</span> <span class="o">=</span> <span class="n">no_name_df</span><span class="p">[[</span><span class="s2">&quot;Country Names&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

<span class="n">no_name_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country Names</th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>Australia</td>
      <td>0.896</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>Brazil</td>
      <td>0.668</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>Canada</td>
      <td>0.890</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>China</td>
      <td>0.586</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>Germany</td>
      <td>0.890</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>Spain</td>
      <td>0.828</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>France</td>
      <td>0.844</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>United Kingdom</td>
      <td>0.863</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>India</td>
      <td>0.490</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>Italy</td>
      <td>0.842</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>Japan</td>
      <td>0.883</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>South Korea</td>
      <td>0.824</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>Mexico</td>
      <td>0.709</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>Russia</td>
      <td>0.733</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>United States</td>
      <td>0.894</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We now have a column with the <code class="docutils literal notranslate"><span class="pre">name</span></code> “0” that is not at the 0-th location of the <code class="docutils literal notranslate"><span class="pre">.columns</span></code> attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># show the 0-th element of the `.columns` attribute</span>
<span class="n">no_name_df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Country Names&#39;
</pre></div>
</div>
</div>
</div>
<p>We are now in the precarious situation of using a <code class="docutils literal notranslate"><span class="pre">int</span></code> <code class="docutils literal notranslate"><span class="pre">0</span></code> both as a <em>label</em> and as a <em>location</em>. In the cell above, it is a location, it the cell below it serves as a label:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># direct index the `0` column</span>
<span class="n">no_name_df</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AUS    0.896
BRA    0.668
CAN    0.890
CHN    0.586
DEU    0.890
ESP    0.828
FRA    0.844
GBR    0.863
IND    0.490
ITA    0.842
JPN    0.883
KOR    0.824
MEX    0.709
RUS    0.733
USA    0.894
Name: 0, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Ideally, we want a clear separation between integer indexes (like <code class="docutils literal notranslate"><span class="pre">0</span></code>) and <em>column names</em>.</p>
<p>This confusing situation can be completely avoided in the case of <code class="docutils literal notranslate"><span class="pre">named_df</span></code>. Let’s add the country names to this Data Frame also:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># add the country names</span>
<span class="n">named_df</span><span class="p">[</span><span class="s1">&#39;Country Names&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">country_names_array</span>

<span class="n">named_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Human Development Index</th>
      <th>Country Names</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>0.896</td>
      <td>Australia</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>0.668</td>
      <td>Brazil</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>0.890</td>
      <td>Canada</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>0.586</td>
      <td>China</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>0.890</td>
      <td>Germany</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>0.828</td>
      <td>Spain</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>0.844</td>
      <td>France</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>0.863</td>
      <td>United Kingdom</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>0.490</td>
      <td>India</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>0.842</td>
      <td>Italy</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>0.883</td>
      <td>Japan</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>0.824</td>
      <td>South Korea</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>0.709</td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>0.733</td>
      <td>Russia</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>0.894</td>
      <td>United States</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We don’t introduce any confusion or error-proneness by re-arranging these columns which have sensible string names:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># re-arrange the columns</span>
<span class="n">named_df</span> <span class="o">=</span> <span class="n">named_df</span><span class="p">[[</span><span class="s2">&quot;Country Names&quot;</span><span class="p">,</span> <span class="s2">&quot;Human Development Index&quot;</span><span class="p">]]</span>

<span class="n">named_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country Names</th>
      <th>Human Development Index</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AUS</th>
      <td>Australia</td>
      <td>0.896</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>Brazil</td>
      <td>0.668</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>Canada</td>
      <td>0.890</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>China</td>
      <td>0.586</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>Germany</td>
      <td>0.890</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>Spain</td>
      <td>0.828</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>France</td>
      <td>0.844</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>United Kingdom</td>
      <td>0.863</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>India</td>
      <td>0.490</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>Italy</td>
      <td>0.842</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>Japan</td>
      <td>0.883</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>South Korea</td>
      <td>0.824</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>Mexico</td>
      <td>0.709</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>Russia</td>
      <td>0.733</td>
    </tr>
    <tr>
      <th>USA</th>
      <td>United States</td>
      <td>0.894</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In fact, now if we want to use integer indexing, we are forced to use <code class="docutils literal notranslate"><span class="pre">.iloc</span></code>, as else we get an error:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this will not work if each column has a `name` string</span>
<span class="n">named_df</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/core/indexes/base.py:3812,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3811</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3812</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3813</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File pandas/_libs/index.pyx:167,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/index.pyx:196,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7088,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7096,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: 0

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">58</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># this will not work if each column has a `name` string</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">named_df</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/core/frame.py:4107,</span> in <span class="ni">DataFrame.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">4105</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">nlevels</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">4106</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_multilevel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">4107</span> <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">4108</span> <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">indexer</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">4109</span>     <span class="n">indexer</span> <span class="o">=</span> <span class="p">[</span><span class="n">indexer</span><span class="p">]</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/pandas/core/indexes/base.py:3819,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3814</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">casted_key</span><span class="p">,</span> <span class="nb">slice</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">3815</span>         <span class="nb">isinstance</span><span class="p">(</span><span class="n">casted_key</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">Iterable</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3816</span>         <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">slice</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3817</span>     <span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3818</span>         <span class="k">raise</span> <span class="n">InvalidIndexError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3819</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3820</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3821</span>     <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3822</span>     <span class="c1">#  InvalidIndexError. Otherwise we fall through and re-raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3823</span>     <span class="c1">#  the TypeError.</span>
<span class="g g-Whitespace">   </span><span class="mi">3824</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_check_indexing_error</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="ne">KeyError</span>: 0
</pre></div>
</div>
</div>
</div>
<p>This compels us to stick to the good practice maxim we introduced above: <strong>use <code class="docutils literal notranslate"><span class="pre">.loc</span></code> and <code class="docutils literal notranslate"><span class="pre">iloc</span></code> unless there is a good reason not to!</strong>.</p>
<p>Giving every column a sensible string as a <code class="docutils literal notranslate"><span class="pre">name</span></code> is one situation where direct indexing (e.g. in the present context using <code class="docutils literal notranslate"><span class="pre">named_df['Human</span> <span class="pre">Development</span> <span class="pre">Index']</span></code> etc.) is safe and non-error prone. As we have seen, issues can arise if we do not specify <code class="docutils literal notranslate"><span class="pre">name</span></code> attributes, and let Pandas automatically generate numeric labels for our Data Frame columns…</p>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h2>
<p>On this page we have looked at the differences between attributes of the Pandas Series - the <code class="docutils literal notranslate"><span class="pre">name</span></code> is optional, but a default <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> will be supplied if no custom <code class="docutils literal notranslate"><span class="pre">index</span></code> is specified.</p>
<p>We have seen that the <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code> can lead to errors if the numeric row labels become misaligned with the integer location of a given row. Similarly, if we do not specify a <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute for Data Frame columns, Pandas will generate numeric labels which can create confusion between integer-based and direct indexing.</p>
<p>For best results, we should specify both an interpretable <code class="docutils literal notranslate"><span class="pre">index</span></code> and interpretable <code class="docutils literal notranslate"><span class="pre">name</span></code> attributes for our Series, especially when they are part of Data Frames.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="0_0_pandas_intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Pandas from Numpy</p>
      </div>
    </a>
    <a class="right-next"
       href="0_2_pandas_dataframes_attributes_methods.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Pandas DataFrames: Attributes and Methods</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-s-in-a-name">What’s in a <code class="docutils literal notranslate"><span class="pre">name</span></code>?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-s-in-an-index">What’s in an <code class="docutils literal notranslate"><span class="pre">index</span></code>?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-the-default-index-can-be-confusing">Why the “default” index can be confusing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#strange-and-nameless-data-frame-columns">Strange and <code class="docutils literal notranslate"><span class="pre">name</span></code>less Data Frame columns</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Peter Rush, Matthew Brett
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>